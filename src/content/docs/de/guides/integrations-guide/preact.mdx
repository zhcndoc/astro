---
type: integration
title: '@astrojs/preact'
description: Lerne wie du die @astrojs/preact Framework-Integration in deinem Astro-Projekt verwendest, um den Component-Support auszubauen.
githubIntegrationURL: 'https://github.com/withastro/astro/tree/main/packages/integrations/preact/'
category: renderer
i18nReady: true
---

import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro'
import Since from '~/components/Since.astro'

Diese **[Astro-Integration][astro-integration]** erm√∂glicht serverseitiges Rendering und clientseitige Hydratation deiner [Preact](https://preactjs.com/)-Komponenten.

## Warum Preact?

Preact ist eine Bibliothek, mit der du interaktive UI-Komponenten f√ºr das Web erstellen kannst. Wenn du interaktive Funktionen auf deiner Website mithilfe von JavaScript erstellen m√∂chtest, bevorzugst du m√∂glicherweise die Verwendung des Komponentenformats anstelle der direkten Verwendung von Browser-APIs.

Preact ist auch eine gute Wahl, wenn du React bereits verwendet hast. Preact bietet dieselbe API wie React, jedoch in einem viel kleineren 3kB-Paket. Es unterst√ºtzt sogar das Rendern vieler React-Komponenten mithilfe der Konfigurationsoption `compat` (siehe unten).

**Willst du mehr √ºber Preact erfahren, bevor du diese Integration verwendest?**\
Du findest ein interaktives Tutorial, ["Learn Preact"](https://preactjs.com/tutorial), auf der Preact-Webseite.

## Installation

Astro verf√ºgt √ºber einen `astro add`-Befehl, der das Setup offizieller Integrationen automatisiert. Wenn du m√∂chtest, kannst du die [Integrationen auch manuell installieren](#manuelle-installation).

Um `@astrojs/preact` zu installieren, f√ºhre einen der folgenden Befehle in einem neuen Terminal-Fenster aus.

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npx astro add preact
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm astro add preact
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn astro add preact
  ```
  </Fragment>
</PackageManagerTabs>

Sollten dir dabei Probleme begegnen, [melde sie gerne bei uns auf GitHub](https://github.com/withastro/astro/issues) und versuche stattdessen die manuelle Installation.

### Manuelle Installation

Installiere zuerst das `@astrojs/preact`-Paket:

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npm install @astrojs/preact
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm add @astrojs/preact
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn add @astrojs/preact
  ```
  </Fragment>
</PackageManagerTabs>

Die meisten Paketmanager installieren auch die zugeh√∂rigen Peer-Abh√§ngigkeiten. Wenn du jedoch beim Starten von Astro die Warnung "Cannot find package 'preact'" (oder eine √§hnliche Meldung) erh√§ltst, musst du Preact manuell installieren:

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npm install preact
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm add preact
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn add preact
  ```
  </Fragment>
</PackageManagerTabs>

Wende dann die Integration auf die Datei `astro.config.*` an, indem du die Eigenschaft `integrations` verwendest:

```js title="astro.config.mjs" ins={2} ins="preact()"
import { defineConfig } from 'astro/config';
import preact from '@astrojs/preact';

export default defineConfig({
  // ...
  integrations: [preact()],
});
```

## Anwendung

Um deine ersten Preact-Komponenten in Astro zu verwenden, gehe zu unserer [UI-Framework Dokumentation][astro-ui-frameworks]. Dort lernst du:

* üì¶ wie Framework-Komponenten geladen werden,
* üíß clientseitige Hydratationsoptionen, und
* ü§ù verschiedene M√∂glichkeiten, unterschiedliche Frameworks zu mischen

## Konfiguration

Die Astro-Preact-Integration verwaltet die Darstellung von Preact-Komponenten und verf√ºgt √ºber eigene Optionen. √Ñndere diese in der `astro.config.mjs`-Datei, wo die Einstellungen aller Integration deines Projekts zu finden sind.

F√ºr die einfache Nutzung der Preact-Integration musst du sie nicht konfigurieren.

### compat

Du kannst `preact/compat`, die Kompatibilit√§tsebene von Preact zum Rendern von React-Komponenten, aktivieren, ohne  gr√∂√üere Pakete von React installieren oder an die Webbrowser deiner Benutzer senden zu m√ºssen.

Setze daf√ºr in einem Optionsobjekt in deiner Preact-Integration `compat` auf `true`:

```js title="astro.config.mjs" "compat: true"
import { defineConfig } from 'astro/config';
import preact from '@astrojs/preact';

export default defineConfig({
  integrations: [preact({ compat: true })],
});
```

Mit der Aktivierung der `compat`-Option kann die Preact-Integration sowohl React- als auch Preact-Komponenten in deinem Projekt rendern und erlaubt dir auch, React-Komponenten in deinen Preact-Komponenten zu importieren. Du kannst mehr dazu in [‚ÄúSwitching to Preact (from React)‚Äù](https://preactjs.com/guide/v10/switching-to-preact) auf der Preact-Webseite lesen.

Wenn du React Komponenten-Bibliotheken verwendest, musst du die `react` und `react-dom`-Abh√§ngigkeiten als `preact/compat` √ºberschreiben. Nutze hierzu die [`overrides`](https://docs.npmjs.com/cli/v8/configuring-npm/package-json#overrides)-Option in deinem `package.json`:

```json title="package.json"
{
  "overrides": {
    "react": "npm:@preact/compat@latest",
    "react-dom": "npm:@preact/compat@latest"
  }
}
```

In der Dokumentation zu [`pnpm` overrides](https://pnpm.io/package_json#pnpmoverrides) und [`yarn` resolutions](https://yarnpkg.com/configuration/manifest#resolutions) kannst du herausfinden, wie dieses Feature im jeweiligen Package-Manager funktioniert.

:::note
Derzeit funktioniert die `compat`-Option nur f√ºr React-Bibliotheken, die ESM-Code exportieren. Wenn im Erstellungsprozess ein Fehler auftritt, versuche die Bibliothek in `vite.ssr.noExternal: ['the-react-library']` in deiner `astro.config.mjs`-Datei hinzuzuf√ºgen.
:::

### devtools

<p><Since pkg="@astrojs/preact" v="3.3.0" /></p>

Du kannst die [Preact devtools](https://preactjs.github.io/preact-devtools/) w√§hrend des Programmierens verwenden, indem du ein Objekt mit `devtools: true` in die Konfiguration der `preact()`-Integration hinzuf√ºgst:

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import preact from '@astrojs/preact';

export default defineConfig({
  // ...
  integrations: [preact({ devtools: true })],
});
```

## Optionen

### Kombination mehrerer JSX-Frameworks

Wenn du verschiedene JSX-Frameworks (React, Preact, Solid) im gleichen Projekt verwendest, muss Astro bestimmen, welche JSX-Framework-spezifischen Transformationen f√ºr jede deiner Komponenten verwendet werden sollen. Wenn du nur eine JSX-Framework-Integration zu deinem Projekt hinzugef√ºgt hast, ist keine weitere Konfiguration n√∂tig.

Verwende dazu die `include` (erforderlich) und `exclude` (optional) Konfigurationsoption, um zu spezifizieren, welche Dateien zu welchem Framework geh√∂ren. Stelle dazu ein Array aus Dateien und/oder Verzeichnissen in der `include`-Option f√ºr jedes Framework, das du nutzt, bereit. Zudem k√∂nnen auch Wildcards verwendet werden, um mehrere Dateipfade anzugeben.

```js title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import preact from '@astrojs/preact';
import react from '@astrojs/react';
import svelte from '@astrojs/svelte';
import vue from '@astrojs/vue';
import solid from '@astrojs/solid-js';

export default defineConfig({
  // Aktiviere viele Frameworks, um alle Arten von Komponenten zu unterst√ºtzen.
  // Wenn du nur ein JSX-Framework verwendest, ist `include` nicht notwendig.
  integrations: [
    preact({
      include: ['**/preact/*'],
    }),
    react({
      include: ['**/react/*'],
    }),
    solid({
      include: ['**/solid/*'],
    }),
  ],
});
```

## Beispiele

* Das [Astro-Preact-Beispiel](https://github.com/withastro/astro/tree/latest/examples/framework-preact) zeigt dir, wie man interaktive Preact-Komponenten in einem Astro-Projekt verwendet.
* Das [Astro-Nanostores-Beispiel](https://github.com/withastro/astro/tree/latest/examples/with-nanostores) zeigt dir, wie man Zust√§nde zwischen verschiedenen Komponenten ‚Äî und sogar verschiedenen Frameworks! ‚Äî in einem Astro-Projekt teilen kann.

[astro-integration]: /de/guides/integrations-guide/

[astro-ui-frameworks]: /de/guides/framework-components/#framework-komponenten-nutzen