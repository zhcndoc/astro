---
title: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
description: –£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –ø–æ–ª—É—á–∞—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é Astro, –∏—Å–ø–æ–ª—å–∑—É—è API fetch.
i18nReady: true
---

–§–∞–π–ª—ã `.astro` –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

## `fetch()` –≤ Astro

–í—Å–µ [–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Astro](/ru/basics/astro-components/) –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ [–≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ `fetch()`](https://developer.mozilla.org/en-US/docs/Web/API/fetch) –≤ —Å–∫—Ä–∏–ø—Ç–µ —Å–≤–æ–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–ª–Ω–æ–≥–æ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, https://example.com/api –∏–ª–∏ `Astro.url + "/api"`).

–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å fetch –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏, –∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —à–∞–±–ª–æ–Ω—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ HTML. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º [SSR](/ru/guides/on-demand-rendering/), –ª—é–±—ã–µ –∑–∞–ø—Ä–æ—Å—ã fetch –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

üí° –í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ–º [**await –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è**](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await#top_level_await) –≤–Ω—É—Ç—Ä–∏ —Å–∫—Ä–∏–ø—Ç–∞ –≤–∞—à–µ–≥–æ Astro –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

üí° –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º Astro, —Ç–∞–∫ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –≤ –≤–∏–¥–µ –ø—Ä–æ–ø—Å–æ–≤.

```astro /await fetch\\(.*?\\)/
---
// src/components/User.astro
import Contact from '../components/Contact.jsx';
import Location from '../components/Location.astro';

const response = await fetch('https://randomuser.me/api/');
const data = await response.json();
const randomUser = data.results[0];
---
<!-- –î–∞–Ω–Ω—ã–µ, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ, –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –≤ HTML -->
<h1>User</h1>
<h2>{randomUser.name.first} {randomUser.name.last}</h2>

<!-- –î–∞–Ω–Ω—ã–µ, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ, –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –∫–∞–∫ –ø—Ä–æ–ø—Å—ã -->
<Contact client:load email={randomUser.email} />
<Location city={randomUser.location.city} />
```

:::note
–ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ Astro –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∫–æ–≥–¥–∞ –æ–Ω–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è.

–í–∞—à —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π —Å–∞–π—Ç Astro –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ **–æ–¥–∏–Ω —Ä–∞–∑, –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏**. –í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞](/ru/guides/framework-components/) –∏–ª–∏ [–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã](/ru/guides/client-side-scripts/) –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Astro.
:::


## `fetch()` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

–§—É–Ω–∫—Ü–∏—è `fetch()` —Ç–∞–∫–∂–µ –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –ª—é–±–æ–≥–æ [–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞](/ru/guides/framework-components/):

```tsx title="src/components/Movies.tsx" /await fetch\\(.*?\\)/
import type { FunctionalComponent } from 'preact';

const data = await fetch('https://example.com/movies.json').then((response) =>
  response.json()
);

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏, —Ç–∞–∫–∂–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ CLI.
// –ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ —Å –ø–æ–º–æ—â—å—é –¥–∏—Ä–µ–∫—Ç–∏–≤—ã client:* –æ–Ω–∏ —Ç–∞–∫–∂–µ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞.
console.log(data);

const Movies: FunctionalComponent = () => {
// –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
  return <div>{JSON.stringify(data)}</div>;
};

export default Movies;
```


## –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ GraphQL

Astro —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fetch()` –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∫ GraphQL-—Å–µ—Ä–≤–µ—Ä—É —Å –ª—é–±—ã–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º GraphQL-–∑–∞–ø—Ä–æ—Å–æ–º.

```astro title="src/components/Film.astro" "await fetch"
---
const response = await fetch("https://swapi-graphql.netlify.app/.netlify/functions/index",
  {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({
      query: `
        query getFilm ($id:ID!) {
          film(id: $id) {
            title
            releaseDate
          }
        }
      `,
      variables: {
        id: "ZmlsbXM6MQ==",
      },
    }),
  });

const json = await response.json();
const { film } = json.data;
---
<h1>Fetching information about Star Wars: A New Hope</h1>
<h2>Title: {film.title}</h2>
<p>Year: {film.releaseDate}</p>
```

## –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–µ–∑–≥–æ–ª–æ–≤–æ–π CMS

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Astro –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–∞—à–µ–π –ª—é–±–∏–º–æ–π CMS –∏ –∑–∞—Ç–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏—Ö –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ò—Å–ø–æ–ª—å–∑—É—è [–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã](/ru/guides/routing/#–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ-–º–∞—Ä—à—Ä—É—Ç—ã), –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –¥–∞–∂–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –≤–∞—à–µ–π CMS.

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞—à–∏ [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ CMS](/ru/guides/cms/) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Astro —Å –±–µ–∑–≥–æ–ª–æ–≤—ã–º–∏ CMS, –≤–∫–ª—é—á–∞—è Storyblok, Contentful –∏ WordPress.

## –†–µ—Å—É—Ä—Å—ã —Å–æ–æ–±—â–µ—Å—Ç–≤–∞

- [–°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–ª–ª—Å—Ç–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é Astro + GraphQL](https://robkendal.co.uk/blog/how-to-build-astro-site-with-graphql/)