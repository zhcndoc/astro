<!DOCTYPE html>
<html lang="zh-CN" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-4g3gq6ui">
	<head>
		<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>升级到 Astro v3 | Astro 中文文档</title><link rel="canonical" href="https://astro.zhcndoc.com/zh-cn/guides/upgrade-to/v3/"/><link rel="alternate" hreflang="en" href="https://astro.zhcndoc.com/en/guides/upgrade-to/v3/"/><link rel="alternate" hreflang="zh-CN" href="https://astro.zhcndoc.com/zh-cn/guides/upgrade-to/v3/"/><link rel="sitemap" href="/sitemap-index.xml"/><link rel="icon" href="/favicon.ico" sizes="32x32"/><link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v5.13.5"/><meta name="generator" content="Starlight v0.35.2"/><meta property="og:title" content="升级到 Astro v3"/><meta property="og:type" content="article"/><meta property="og:url" content="https://astro.zhcndoc.com/zh-cn/guides/upgrade-to/v3/"/><meta property="og:locale" content="zh-CN"/><meta property="og:description" content="如何将你的项目升级到 Astro 的最新版本 (v3.0)。"/><meta property="og:site_name" content="Astro 中文文档"/><meta name="twitter:card" content="summary_large_image"/><meta name="description" content="如何将你的项目升级到 Astro 的最新版本 (v3.0)。"/><meta property="og:image" content="https://astro.zhcndoc.com/open-graph/zh-cn/guides/upgrade-to/v3.webp"/><meta name="twitter:image" content="https://astro.zhcndoc.com/open-graph/zh-cn/guides/upgrade-to/v3.webp"/><meta name="twitter:site" content="astrodotbuild"/><meta name="docsearch:language" content="zh-CN"/><script src="https://www.zhcndoc.com/js/common.js" async></script>
		
		
<script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script>

<template id="theme-icons">
	
	<svg aria-hidden="true" class="light astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg>



	
	<svg aria-hidden="true" class="dark astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg>



	
	<svg aria-hidden="true" class="auto astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>



</template>
		<link rel="stylesheet" href="/_astro/print.DNXP8c50.css" media="print">
	<link rel="stylesheet" href="/_astro/index.AnTgcHMU.css">
<style>.action:where(.astro-vnzlvqnm){gap:.5em;align-items:center;border-radius:999rem;padding:.5rem 1.125rem;color:var(--sl-color-white);line-height:1.1875;text-decoration:none;font-size:var(--sl-text-sm)}.action:where(.astro-vnzlvqnm).primary,.action:where(.astro-vnzlvqnm).primary:hover{background:var(--sl-color-text-accent);color:var(--sl-color-black)}.action:where(.astro-vnzlvqnm).secondary{background:var(--sl-color-black);border:2px solid}.action:where(.astro-vnzlvqnm).minimal{padding-inline:0}@media (min-width: 50rem){.action:where(.astro-vnzlvqnm){font-size:var(--sl-text-base);padding:1rem 1.25rem}}
@layer starlight.components{:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-v2mfg3yc){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-v2mfg3yc){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-v2mfg3yc){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-v2mfg3yc){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-v2mfg3yc){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-v2mfg3yc){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-v2mfg3yc){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-v2mfg3yc){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-v2mfg3yc){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-v2mfg3yc){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-v2mfg3yc){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-v2mfg3yc){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-v2mfg3yc){vertical-align:middle}}
@layer starlight.components{.card-grid:where(.astro-c7iqepqq){display:grid;grid-template-columns:100%;gap:1rem}.card-grid:where(.astro-c7iqepqq)>*{margin-top:0!important}@media (min-width: 50rem){.card-grid:where(.astro-c7iqepqq){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-c7iqepqq){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-c7iqepqq)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}}
@layer starlight.components{.card:where(.astro-cqn6wwpb){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-cqn6wwpb):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-cqn6wwpb):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-cqn6wwpb):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-cqn6wwpb):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-cqn6wwpb){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-cqn6wwpb) .icon:where(.astro-cqn6wwpb){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem;flex-shrink:0}.card:where(.astro-cqn6wwpb) .body:where(.astro-cqn6wwpb){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}}
@layer starlight.components{svg:where(.astro-eytsx3ik){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}}
.card:where(.astro-har75nup){position:relative;margin:-.75rem;padding:.75rem;display:grid;grid-template-columns:auto 1fr;gap:.5rem;align-items:center;border-radius:.5rem}.card--minimal:where(.astro-har75nup){grid-template-columns:1fr;justify-items:center;text-align:center}.card:where(.astro-har75nup):hover,.card:where(.astro-har75nup):focus-within{background-color:var(--sl-color-gray-6);outline:1px solid var(--sl-color-text-accent)}@media (forced-colors: active){.card:where(.astro-har75nup):hover,.card:where(.astro-har75nup):focus-within{outline:1px solid LinkText}}.stack:where(.astro-har75nup){flex-direction:column;gap:.5rem}h3:where(.astro-har75nup){line-height:var(--sl-line-height-headings);font-size:var(--sl-text-lg);font-weight:600}.card--minimal:where(.astro-har75nup) h3:where(.astro-har75nup){font-size:var(--sl-text-body)}a:where(.astro-har75nup){text-decoration:none;color:var(--sl-color-white)}a:where(.astro-har75nup):focus{outline:none}a:where(.astro-har75nup):before{content:"";position:absolute;inset:0}
.fluid-grid:where(.astro-oxk5cgh7){--column-min-width: 13rem;text-align:start;margin-block:.5rem;padding-inline-start:0;display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--column-min-width),1fr));grid-template-columns:repeat(auto-fill,minmax(min(var(--column-min-width),100%),1fr));gap:1.5rem 2rem;list-style:none;align-items:start}@media (min-width: 37.75em){.fluid-grid:where(.astro-oxk5cgh7){gap:2rem}}.fluid-grid--minimal:where(.astro-oxk5cgh7){--column-min-width: 8rem;gap:1.5rem .75rem}
@layer starlight.components{starlight-tabs:where(.astro-xtbw65nk){display:block}.tablist-wrapper:where(.astro-xtbw65nk){overflow-x:auto}:where(.astro-xtbw65nk)[role=tablist]{display:flex;list-style:none;border-bottom:2px solid var(--sl-color-gray-5);padding:0}.tab:where(.astro-xtbw65nk){margin-bottom:-2px}.tab:where(.astro-xtbw65nk)>:where(.astro-xtbw65nk)[role=tab]{display:flex;align-items:center;gap:.5rem;padding:0 1.25rem;text-decoration:none;border-bottom:2px solid var(--sl-color-gray-5);color:var(--sl-color-gray-3);outline-offset:var(--sl-outline-offset-inside);overflow-wrap:initial}.tab:where(.astro-xtbw65nk) :where(.astro-xtbw65nk)[role=tab][aria-selected=true]{color:var(--sl-color-white);border-color:var(--sl-color-text-accent);font-weight:600}.tablist-wrapper:where(.astro-xtbw65nk)~[role=tabpanel]{margin-top:1rem}}
.logo:where(.astro-anndpidy){display:flex;place-content:center;font-size:var(--logo-size);width:1em;height:1em;background-color:#17181c;border:1px solid hsl(224,10%,23%);outline:1px solid transparent;overflow:hidden}.circle:where(.astro-anndpidy){border-radius:50%}.rounded:where(.astro-anndpidy){border-radius:.125em}.logo:where(.astro-anndpidy) img:where(.astro-anndpidy){padding:var(--logo-padding);width:100%;height:100%}
@layer starlight.components{.sl-link-card:where(.astro-veoyb5wn){display:grid;grid-template-columns:1fr auto;gap:.5rem;border:1px solid var(--sl-color-gray-5);border-radius:.5rem;padding:1rem;box-shadow:var(--sl-shadow-sm);position:relative}a:where(.astro-veoyb5wn){text-decoration:none;line-height:var(--sl-line-height-headings)}a:where(.astro-veoyb5wn):before{content:"";position:absolute;inset:0}.stack:where(.astro-veoyb5wn){flex-direction:column;gap:.5rem}.title:where(.astro-veoyb5wn){color:var(--sl-color-white);font-weight:600;font-size:var(--sl-text-lg)}.description:where(.astro-veoyb5wn){color:var(--sl-color-gray-3);line-height:1.5}.icon:where(.astro-veoyb5wn){color:var(--sl-color-gray-3)}.sl-link-card:where(.astro-veoyb5wn):hover{background:var(--sl-color-gray-7, var(--sl-color-gray-6));border-color:var(--sl-color-gray-2)}.sl-link-card:where(.astro-veoyb5wn):hover .icon:where(.astro-veoyb5wn){color:var(--sl-color-white)}}
.description:where(.astro-kq5jy4fu){color:var(--sl-color-gray-2);font-size:var(--sl-text-body-sm)}.tags:where(.astro-kq5jy4fu){gap:.5rem}
.neutral-badge{border-color:var(--sl-color-gray-5);background-color:var(--sl-color-gray-6);color:var(--sl-color-text)}
@layer starlight.components{.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}}@layer starlight.content{.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}}
.integrations-nav:where(.astro-hu7fe7u2) .scope{font-weight:400;color:var(--sl-color-text)}
@layer starlight.components{starlight-file-tree:where(.astro-3zkx6rqc){--x-space: 1.5rem;--y-space: .125rem;--y-pad: 0;display:block;border:1px solid var(--sl-color-gray-5);padding:1rem;background-color:var(--sl-color-gray-6);font-size:var(--sl-text-xs);font-family:var(--__sl-font-mono);overflow-x:auto}starlight-file-tree:where(.astro-3zkx6rqc) .directory>details{border:0;padding:0;padding-inline-start:var(--x-space);background:transparent}starlight-file-tree:where(.astro-3zkx6rqc) .directory>details>summary{margin-inline-start:calc(-1 * var(--x-space));border:0;padding:var(--y-pad) .625rem;font-weight:400;color:var(--sl-color-white);max-width:100%}starlight-file-tree:where(.astro-3zkx6rqc) .directory>details>summary::marker,starlight-file-tree:where(.astro-3zkx6rqc) .directory>details>summary::-webkit-details-marker{color:var(--sl-color-gray-3)}starlight-file-tree:where(.astro-3zkx6rqc) .directory>details>summary:hover,starlight-file-tree:where(.astro-3zkx6rqc) .directory>details>summary:hover .tree-icon{cursor:pointer;color:var(--sl-color-text-accent);fill:currentColor}starlight-file-tree:where(.astro-3zkx6rqc) .directory>details>summary:hover~ul{border-color:var(--sl-color-gray-4)}starlight-file-tree:where(.astro-3zkx6rqc) .directory>details>summary:hover .highlight .tree-icon{color:var(--sl-color-text-invert);fill:currentColor}starlight-file-tree:where(.astro-3zkx6rqc) ul{margin-inline-start:.5rem;border-inline-start:1px solid var(--sl-color-gray-5);padding:0;padding-inline-start:.125rem;list-style:none}starlight-file-tree:where(.astro-3zkx6rqc)>ul{margin:0;border:0;padding:0}starlight-file-tree:where(.astro-3zkx6rqc) li{margin:var(--y-space) 0;padding:var(--y-pad) 0}starlight-file-tree:where(.astro-3zkx6rqc) .file{margin-inline-start:calc(var(--x-space) - .125rem);color:var(--sl-color-white)}starlight-file-tree:where(.astro-3zkx6rqc) .tree-entry{display:inline-flex;align-items:flex-start;flex-wrap:wrap;max-width:calc(100% - 1rem)}@media (min-width: 30em){starlight-file-tree:where(.astro-3zkx6rqc) .tree-entry{flex-wrap:nowrap}}starlight-file-tree:where(.astro-3zkx6rqc) .tree-entry>:first-child{flex-shrink:0}starlight-file-tree:where(.astro-3zkx6rqc) .empty{color:var(--sl-color-gray-3);padding-inline-start:.375rem}starlight-file-tree:where(.astro-3zkx6rqc) .comment{color:var(--sl-color-gray-3);padding-inline-start:1.625rem;max-width:24rem;min-width:12rem}starlight-file-tree:where(.astro-3zkx6rqc) .highlight{display:inline-block;border-radius:.25rem;padding-inline-end:.5rem;color:var(--sl-color-text-invert);background-color:var(--sl-color-text-accent)}starlight-file-tree:where(.astro-3zkx6rqc) svg{display:inline;fill:var(--sl-color-gray-3);vertical-align:middle;margin-inline:.25rem .375rem;width:.875rem;height:.875rem}starlight-file-tree:where(.astro-3zkx6rqc) .highlight svg.tree-icon{fill:currentColor}}
@layer starlight.components{.sl-link-button:where(.astro-n3qr5j5k){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-n3qr5j5k).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-n3qr5j5k).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-n3qr5j5k).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-n3qr5j5k).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-n3qr5j5k) svg{flex-shrink:0}@media (min-width: 50rem){.sl-link-button:where(.astro-n3qr5j5k){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-n3qr5j5k){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-n3qr5j5k):not(:where(p *)){margin-block:1rem}}
</style><script type="module" src="/_astro/page.7qqag-5g.js"></script></head>
	<body class="astro-4g3gq6ui">
		<a href="#_top" class="astro-37u7dava">跳转到内容</a>
		<div class="page sl-flex astro-34ku3w3v">
	<header class="header astro-34ku3w3v"><div class="header astro-4kjkofih">
	<div class="title-wrapper sl-flex astro-4kjkofih">
		<span class="site-title sl-flex astro-oijwx5iz">
	<a class="astro-logo astro-oijwx5iz" href="/" aria-label="Astro"><svg xmlns="http://www.w3.org/2000/svg" width="106" height="32" viewBox="0 -6 381 100">
  <path class="flame" fill="currentColor" d="M25.8 85.2c-4.5-4.2-5.9-12.8-4-19.1 3.3 4 7.8 5.2 12.5 6 7.2 1 14.3.6 21-2.7l2.4-1.4c.6 1.8.8 3.7.5 5.6-.5 4.5-2.8 8-6.4 10.7-1.4 1.1-3 2-4.5 3-4.6 3.2-5.8 6.8-4 12.1v.6a12 12 0 0 1-5.3-4.6 13 13 0 0 1-2-7c0-1.2 0-2.5-.2-3.7-.4-3-1.8-4.3-4.5-4.4a5.2 5.2 0 0 0-5.4 4.2l-.1.7Z"/>
  <path fill="currentColor" d="M0 65s13.4-6.5 26.8-6.5l10.1-31.3c.4-1.5 1.5-2.5 2.7-2.5 1.3 0 2.4 1 2.8 2.5l10 31.3c16 0 26.9 6.5 26.9 6.5L56.5 3c-.6-1.8-1.7-3-3.2-3H26c-1.5 0-2.5 1.2-3.2 3L0 65Zm141-19.9c0 5.5-6.8 8.8-16.2 8.8-6.2 0-8.3-1.5-8.3-4.7 0-3.4 2.6-5 8.8-5 5.5 0 10.3 0 15.7.8v.1Zm.1-6.8a71 71 0 0 0-14.5-1.2c-17.7 0-26 4.2-26 14 0 10.1 5.7 14 18.8 14 11.2 0 18.8-2.8 21.6-9.8h.4l-.1 4.7c0 3.6.6 3.9 3.5 3.9h13.8c-.8-2.2-1.2-8.2-1.2-13.4l.2-15.4c0-11.5-6.9-18.8-28.5-18.8-9.3 0-19.6 1.6-27.5 4 .8 3.1 1.8 9.4 2.3 13.5a61.4 61.4 0 0 1 24-4.5c10.4 0 13.2 2.3 13.2 7.1v2Zm37.9 10c-1.9.3-4.5.3-7 .3a60 60 0 0 1-7.1-.4l-.1 2c0 9.5 6.2 15 28.1 15 20.6 0 27.3-5.5 27.3-15.1 0-9.2-4.4-13.7-24-14.7-15.2-.6-16.6-2.3-16.6-4.2 0-2.2 2-3.4 12.2-3.4 10.6 0 13.4 1.5 13.4 4.5v.7a153 153 0 0 1 14.1 0v-1.7c0-11.2-9.2-14.9-27.2-14.9-20.3 0-27 5-27 14.6 0 8.7 5.4 14.1 24.8 15 14.3.4 16 2 16 4.2 0 2.4-2.4 3.5-12.5 3.5-11.5 0-14.4-1.6-14.4-5v-.4Zm66-40.1a58.2 58.2 0 0 1-20.8 11.6v10.8h5V47c0 10 5.3 17.7 21.8 17.7 7 0 11.6-.8 17.4-2-.6-3.7-1.3-9.4-1.5-13.8a41 41 0 0 1-12.6 1.8c-6.6 0-9.3-1.8-9.3-7.1V30.8c8.6 0 17.1.2 22.1.4 0-4 .1-9.7.3-13.5l-22.1.2.2-9.7h-.5Zm44.7 20.1.3-10.6h-15.1c.2 6.5.2 13.3.2 23 0 10 0 16.7-.2 23.2H292c-.3-4.6-.3-12.3-.3-18.9 0-10.3 4.2-13.3 13.7-13.3 4.4 0 7.6.5 10.3 1.5.1-3.8.9-11.4 1.3-14.7a34 34 0 0 0-9.8-1.4c-8.2 0-14.2 3.3-17 11.3l-.6-.1Zm75.1 12.2c0 8.3-6 12.2-15.4 12.2S334 49 334 40.5c0-8.6 6-11.8 15.4-11.8 9.3 0 15.4 3.5 15.4 11.8Zm15.7-.4c0-16.5-13-24-31.1-24-18.3 0-30.8 7.5-30.8 24s11.6 25.3 30.7 25.3c19.2 0 31.2-8.8 31.2-25.3Z"/>
  <defs>
    <linearGradient id="gradient" x1="21" x2="64.6" y1="100" y2="79.4" gradientUnits="userSpaceOnUse">
      <stop stop-color="#D83333"/>
      <stop offset="1" stop-color="#F041FF"/>
    </linearGradient>
  </defs>
  <style>
    [data-theme="dark"] .flame {
      fill: url(#gradient);
    }
  </style>
</svg>
</a>
	<a class="docs-logo astro-oijwx5iz" href="/zh-cn/getting-started/" aria-label="Docs"><svg xmlns="http://www.w3.org/2000/svg" width="69" height="28" viewBox="0 -6 246 100">
	<path fill="currentColor" d="M29 63.8c16.6 0 28.1-9.5 28.1-23.8 0-14.4-10.8-22.3-27.8-22.3H0v46.1h29ZM13.2 26.6h14.2c9.5 0 16 4.6 16 13.6 0 9.3-6 14.7-15.9 14.7H13.1V26.6Zm80.1 38.8c18.8 0 31-9.7 31-24.6 0-15-12.2-24.6-31-24.6-18.7 0-31 9.6-31 24.6 0 14.8 12.3 24.6 31 24.6Zm0-9.8c-10.3 0-17-6-17-14.8 0-9 6.7-14.9 17-14.9s17.1 6 17.1 14.9-6.8 14.8-17.1 14.8Zm66.3 9.8c15 0 25.5-6 29.3-16.4l-13.5-3c-1.9 6.1-7.2 9.4-15.4 9.4-10.4 0-17-5.8-17-14.7 0-9 6.4-14.7 16.8-14.7 8.4 0 13.7 3.4 15.5 9.7l13.6-2.4c-3-10.7-13.9-17.2-28.9-17.2-18.1 0-30.7 10.2-30.7 24.8 0 14.8 11.7 24.4 30.2 24.4Zm60.3 0c16.6 0 26.1-5.7 26.1-15.9 0-8.5-5.2-12.3-18-13.6l-12.7-1.2c-5.9-.7-7.8-1.8-7.8-4.6 0-3.2 3.9-4.8 11-4.8 8.8 0 15.4 2.8 18.9 7.3l8.2-7c-5.7-6.4-14.8-9.4-26.5-9.4-15.7 0-24.6 5.4-24.6 14.5 0 8.5 5.4 12.7 16.7 14l14.1 1.5c5.5.6 7.5 1.7 7.5 4.6 0 3.6-4 5.3-12.3 5.3-9.4 0-16.5-3.6-20.4-9l-9.3 6.5c4.7 7.3 15.4 11.8 29 11.8Z"/>
</svg>
</a>
</span>
	</div>
	<div class="sl-flex print:hidden astro-4kjkofih">
		<sl-doc-search data-translations="{&#34;button&#34;:&#34;搜索&#34;,&#34;shortcutLabel&#34;:&#34;按下 / 来搜索文档&#34;,&#34;placeholder&#34;:&#34;搜索文档...&#34;,&#34;modal&#34;:{&#34;searchBox&#34;:{&#34;resetButtonTitle&#34;:&#34;删除搜索&#34;,&#34;resetButtonAriaLabel&#34;:&#34;删除搜索&#34;,&#34;cancelButtonText&#34;:&#34;取消&#34;,&#34;cancelButtonAriaLabel&#34;:&#34;取消&#34;},&#34;startScreen&#34;:{&#34;recentSearchesTitle&#34;:&#34;最近搜索&#34;,&#34;noRecentSearchesText&#34;:&#34;无最近搜索内容&#34;,&#34;saveRecentSearchButtonTitle&#34;:&#34;保存此搜索&#34;,&#34;removeRecentSearchButtonTitle&#34;:&#34;移除此搜索&#34;,&#34;favoriteSearchesTitle&#34;:&#34;收藏夹&#34;,&#34;removeFavoriteSearchButtonTitle&#34;:&#34;从收藏夹移除&#34;},&#34;errorScreen&#34;:{&#34;titleText&#34;:&#34;出现未知错误！&#34;,&#34;helpText&#34;:&#34;请检查你的互联网连接是否有误&#34;},&#34;footer&#34;:{&#34;selectText&#34;:&#34;进入条目&#34;,&#34;selectKeyAriaLabel&#34;:&#34;回车键&#34;,&#34;navigateText&#34;:&#34;导航&#34;,&#34;navigateUpKeyAriaLabel&#34;:&#34;上方向键&#34;,&#34;navigateDownKeyAriaLabel&#34;:&#34;下方向键&#34;,&#34;closeText&#34;:&#34;关闭搜索&#34;,&#34;closeKeyAriaLabel&#34;:&#34;Esc 键&#34;,&#34;searchByText&#34;:&#34;搜索来自&#34;},&#34;noResultsScreen&#34;:{&#34;noResultsText&#34;:&#34;没有合适的结果...&#34;,&#34;suggestedQueryText&#34;:&#34;请尝试搜索&#34;,&#34;reportMissingResultsText&#34;:&#34;仍然认为应该有搜索结果？&#34;,&#34;reportMissingResultsLinkText&#34;:&#34;请通知我们。&#34;}}}">
	<button type="button" class="DocSearch DocSearch-Button" aria-label="搜索">
		<span class="DocSearch-Button-Container">
			<svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20">
				<path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path>
			</svg>
			<span class="DocSearch-Button-Placeholder">搜索</span>
		</span>
		<span class="DocSearch-Button-Keys"></span>
	</button>
</sl-doc-search>

<script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.Dkxq3uJO.js"></script>
	</div>
	<div class="sl-hidden md:sl-flex print:hidden right-group astro-4kjkofih">
		<div class="sl-flex social-icons astro-4kjkofih">
			<a href="https://github.com/withastro/astro" rel="me" class="sl-flex astro-tpebbyzj">
					<span class="sr-only astro-tpebbyzj">GitHub</span>
					
	<svg aria-hidden="true" class="astro-tpebbyzj astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg>



				</a><a href="https://astro.build/chat" rel="me" class="sl-flex astro-tpebbyzj">
					<span class="sr-only astro-tpebbyzj">Discord</span>
					
	<svg aria-hidden="true" class="astro-tpebbyzj astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M20.32 4.37a19.8 19.8 0 0 0-4.93-1.51 13.78 13.78 0 0 0-.64 1.28 18.27 18.27 0 0 0-5.5 0 12.64 12.64 0 0 0-.64-1.28h-.05A19.74 19.74 0 0 0 3.64 4.4 20.26 20.26 0 0 0 .11 18.09l.02.02a19.9 19.9 0 0 0 6.04 3.03l.04-.02a14.24 14.24 0 0 0 1.23-2.03.08.08 0 0 0-.05-.07 13.1 13.1 0 0 1-1.9-.92.08.08 0 0 1 .02-.1 10.2 10.2 0 0 0 .41-.31h.04a14.2 14.2 0 0 0 12.1 0l.04.01a9.63 9.63 0 0 0 .4.32.08.08 0 0 1-.03.1 12.29 12.29 0 0 1-1.9.91.08.08 0 0 0-.02.1 15.97 15.97 0 0 0 1.27 2.01h.04a19.84 19.84 0 0 0 6.03-3.05v-.03a20.12 20.12 0 0 0-3.57-13.69ZM8.02 15.33c-1.18 0-2.16-1.08-2.16-2.42 0-1.33.96-2.42 2.16-2.42 1.21 0 2.18 1.1 2.16 2.42 0 1.34-.96 2.42-2.16 2.42Zm7.97 0c-1.18 0-2.15-1.08-2.15-2.42 0-1.33.95-2.42 2.15-2.42 1.22 0 2.18 1.1 2.16 2.42 0 1.34-.94 2.42-2.16 2.42Z"/></svg>



				</a>


		</div>
		<starlight-theme-select>
	
	<label style="--sl-select-width: 6.25em" class="astro-5trz26bn">
	<span class="sr-only astro-5trz26bn">选择主题</span>
	
	<svg aria-hidden="true" class="icon label-icon astro-5trz26bn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>



	<select value="auto" autocomplete="off" class="astro-5trz26bn">
		<option value="dark" class="astro-5trz26bn">深色</option><option value="light" class="astro-5trz26bn">浅色</option><option value="auto" selected class="astro-5trz26bn">自动</option>
	</select>
	
	<svg aria-hidden="true" class="icon caret astro-5trz26bn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>



</label>
</starlight-theme-select>


<script>
	StarlightThemeProvider.updatePickers();
</script>

<script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script>
		<starlight-lang-select>
			<label style="--sl-select-width: 7em" class="astro-5trz26bn">
	<span class="sr-only astro-5trz26bn">选择语言</span>
	
	<svg aria-hidden="true" class="icon label-icon astro-5trz26bn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M8.516 3a.94.94 0 0 0-.941.94v1.15H2.94a.94.94 0 1 0 0 1.882h7.362a7.422 7.422 0 0 1-1.787 3.958 7.42 7.42 0 0 1-1.422-2.425.94.94 0 1 0-1.774.627 9.303 9.303 0 0 0 1.785 3.043 7.422 7.422 0 0 1-4.164 1.278.94.94 0 1 0 0 1.881 9.303 9.303 0 0 0 5.575-1.855 9.303 9.303 0 0 0 4.11 1.74l-.763 1.525a.968.968 0 0 0-.016.034l-1.385 2.77a.94.94 0 1 0 1.683.841l1.133-2.267h5.806l1.134 2.267a.94.94 0 0 0 1.683-.841l-1.385-2.769a.95.95 0 0 0-.018-.036l-3.476-6.951a.94.94 0 0 0-1.682 0l-1.82 3.639a7.423 7.423 0 0 1-3.593-1.256 9.303 9.303 0 0 0 2.27-5.203h1.894a.94.94 0 0 0 0-1.881H9.456V3.94A.94.94 0 0 0 8.516 3Zm6.426 11.794a1.068 1.068 0 0 1-.02.039l-.703 1.407h3.924l-1.962-3.924-1.24 2.478Z" clip-rule="evenodd"/></svg>



	<select value="/zh-cn/guides/upgrade-to/v3/" autocomplete="off" class="astro-5trz26bn">
		<option value="/en/guides/upgrade-to/v3/" class="astro-5trz26bn">English</option><option value="/zh-cn/guides/upgrade-to/v3/" selected class="astro-5trz26bn">简体中文</option>
	</select>
	
	<svg aria-hidden="true" class="icon caret astro-5trz26bn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>



</label>
		</starlight-lang-select>

<script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script>
	</div>
</div></header>
	<nav class="sidebar print:hidden astro-34ku3w3v" aria-label="主要">
				<starlight-menu-button class="print:hidden astro-23okaqvr">
	<button aria-expanded="false" aria-label="菜单" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-23okaqvr">
		
	<svg aria-hidden="true" class="open-menu astro-23okaqvr astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>



		
	<svg aria-hidden="true" class="close-menu astro-23okaqvr astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg>



	</button>
</starlight-menu-button>

<script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>
				<div id="starlight__sidebar" class="sidebar-pane astro-34ku3w3v">
					<div class="sidebar-content sl-flex astro-34ku3w3v">
						<sl-sidebar-state-persist data-hash="0ohjjis" class="astro-eb2yzuwr">
	<script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>

	
	<tabbed-content class="astro-6yyweqw4">
	<ul class="tab-list tabbed-sidebar astro-3x5efdbn astro-6yyweqw4">
		<li class="tab-item astro-3x5efdbn">
	<a href="#__tab-开始" class="tab-link">
		
						
	<svg aria-hidden="true" class="icon astro-3x5efdbn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg>


 开始
	</a>
</li><li class="tab-item astro-3x5efdbn">
	<a href="#__tab-指南" class="tab-link" data-initial="true" aria-selected="true">
		
						
	<svg aria-hidden="true" class="icon astro-3x5efdbn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.17 2.06A13.1 13.1 0 0 0 19 1.87a12.94 12.94 0 0 0-7 2.05 12.94 12.94 0 0 0-7-2 13.1 13.1 0 0 0-2.17.19 1 1 0 0 0-.83 1v12a1 1 0 0 0 1.17 1 10.9 10.9 0 0 1 8.25 1.91l.12.07h.11a.91.91 0 0 0 .7 0h.11l.12-.07A10.899 10.899 0 0 1 20.83 16 1 1 0 0 0 22 15V3a1 1 0 0 0-.83-.94ZM11 15.35a12.87 12.87 0 0 0-6-1.48H4v-10c.333-.02.667-.02 1 0a10.86 10.86 0 0 1 6 1.8v9.68Zm9-1.44h-1a12.87 12.87 0 0 0-6 1.48V5.67a10.86 10.86 0 0 1 6-1.8c.333-.02.667-.02 1 0v10.04Zm1.17 4.15a13.098 13.098 0 0 0-2.17-.19 12.94 12.94 0 0 0-7 2.05 12.94 12.94 0 0 0-7-2.05c-.727.003-1.453.066-2.17.19A1 1 0 0 0 2 19.21a1 1 0 0 0 1.17.79 10.9 10.9 0 0 1 8.25 1.91 1 1 0 0 0 1.16 0A10.9 10.9 0 0 1 20.83 20a1 1 0 0 0 1.17-.79 1 1 0 0 0-.83-1.15Z"/></svg>


 指南
	</a>
</li><li class="tab-item astro-3x5efdbn">
	<a href="#__tab-参考" class="tab-link">
		
						
	<svg aria-hidden="true" class="icon astro-3x5efdbn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 11a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1Zm.38-3.92a1 1 0 0 0-.76 0 1 1 0 0 0-.33.21 1.15 1.15 0 0 0-.21.33 1 1 0 0 0 .21 1.09c.097.088.209.16.33.21A1 1 0 0 0 13 8a1.05 1.05 0 0 0-.29-.71 1 1 0 0 0-.33-.21ZM12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm0 18a8 8 0 1 1 0-16.001A8 8 0 0 1 12 20Z"/></svg>


 参考
	</a>
</li><li class="tab-item astro-3x5efdbn">
	<a href="#__tab-集成" class="tab-link">
		
						
	<svg aria-hidden="true" class="icon astro-3x5efdbn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 22H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h1a4 4 0 0 1 7.3-2.18c.448.64.692 1.4.7 2.18h3a1 1 0 0 1 1 1v3a4 4 0 0 1 2.18 7.3A3.86 3.86 0 0 1 18 18v3a1 1 0 0 1-1 1ZM5 8a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11v-3.18a1 1 0 0 1 1.33-.95 1.77 1.77 0 0 0 1.74-.23 2 2 0 0 0 .93-1.37 2 2 0 0 0-.48-1.59 1.89 1.89 0 0 0-2.17-.55 1 1 0 0 1-1.33-.95V8h-3.2a1 1 0 0 1-1-1.33 1.77 1.77 0 0 0-.23-1.74 1.939 1.939 0 0 0-3-.43A2 2 0 0 0 8 6c.002.23.046.456.13.67A1 1 0 0 1 7.18 8H5Z"/></svg>


 集成
	</a>
</li><li class="tab-item astro-3x5efdbn">
	<a href="#__tab-第三方服务" class="tab-link">
		
						
	<svg aria-hidden="true" class="icon astro-3x5efdbn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m21.32 9.55-1.89-.63.89-1.78A1 1 0 0 0 20.13 6L18 3.87a1 1 0 0 0-1.15-.19l-1.78.89-.63-1.89A1 1 0 0 0 13.5 2h-3a1 1 0 0 0-.95.68l-.63 1.89-1.78-.89A1 1 0 0 0 6 3.87L3.87 6a1 1 0 0 0-.19 1.15l.89 1.78-1.89.63a1 1 0 0 0-.68.94v3a1 1 0 0 0 .68.95l1.89.63-.89 1.78A1 1 0 0 0 3.87 18L6 20.13a1 1 0 0 0 1.15.19l1.78-.89.63 1.89a1 1 0 0 0 .95.68h3a1 1 0 0 0 .95-.68l.63-1.89 1.78.89a1 1 0 0 0 1.13-.19L20.13 18a1 1 0 0 0 .19-1.15l-.89-1.78 1.89-.63a1 1 0 0 0 .68-.94v-3a1 1 0 0 0-.68-.95ZM20 12.78l-1.2.4A2 2 0 0 0 17.64 16l.57 1.14-1.1 1.1-1.11-.6a2 2 0 0 0-2.79 1.16l-.4 1.2h-1.59l-.4-1.2A2 2 0 0 0 8 17.64l-1.14.57-1.1-1.1.6-1.11a2 2 0 0 0-1.16-2.82l-1.2-.4v-1.56l1.2-.4A2 2 0 0 0 6.36 8l-.57-1.11 1.1-1.1L8 6.36a2 2 0 0 0 2.82-1.16l.4-1.2h1.56l.4 1.2A2 2 0 0 0 16 6.36l1.14-.57 1.1 1.1-.6 1.11a2 2 0 0 0 1.16 2.79l1.2.4v1.59ZM12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z"/></svg>


 第三方服务
	</a>
</li>
	</ul>

	<div class="panels tabbed-sidebar astro-3x5efdbn astro-6yyweqw4">
		
		
		<div id="__tab-开始" class="astro-s7ttdo4b">
	
					<ul class="top-level astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/getting-started/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">入门指南</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="0"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">欢迎，世界！</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/concepts/why-astro/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">为什么是 Astro?</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/concepts/islands/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">群岛架构</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/tutorial/0-introduction/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">教程：搭建一个博客</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/astro-courses/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">课程</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="1"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">开始新项目</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/install-and-setup/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">安装</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/basics/project-structure/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">项目结构</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/develop-and-build/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">开发与构建</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="2"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">配置</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/configuring-astro/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">配置概览</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/editor-setup/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">编辑器配置</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/typescript/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">TypeScript</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/environment-variables/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">环境变量</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/build-with-ai/" aria-current="false" class="fallback astro-ug4msnsl" class="fallback">
						<span class="astro-ug4msnsl">Build with AI</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/dev-toolbar/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">开发者工具栏</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="3"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">迁移到 Astro</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">将现有项目迁移到 Astro</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-create-react-app/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Create React App</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-docusaurus/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Docusaurus</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-eleventy/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Eleventy</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-gatsby/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Gatsby</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-gitbook/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">GitBook</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-gridsome/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Gridsome</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-hugo/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Hugo</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-jekyll/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Jekyll</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-nextjs/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Next.js</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-nuxtjs/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">NuxtJS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-pelican/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Pelican</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-sveltekit/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">SvelteKit</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-vuepress/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">VuePress</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/migrate-to-astro/from-wordpress/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">WordPress</span>
						
					</a>
			</li>
</ul>
					</details>
			</li>
</ul>
				
</div><div id="__tab-指南" data-initial="true" class="astro-s7ttdo4b">
	
					<ul class="top-level astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="4"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">路由导航</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/basics/astro-pages/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">页面</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/routing/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">路由</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/endpoints/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">API 端点</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/middleware/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">中间件</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/internationalization/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">国际化（i18n）</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/prefetch/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">预获取</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/view-transitions/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">视图过渡动画</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="5"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">构建你的 UI</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/basics/astro-components/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">组件</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/basics/layouts/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">布局</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/styling/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">样式和 CSS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/fonts/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">字体</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/syntax-highlighting/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">语法高亮</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/client-side-scripts/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">处理脚本和事件</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/framework-components/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">前端框架</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="6"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">向你的网站添加内容</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/markdown-content/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Markdown</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/content-collections/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">内容集合</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/images/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">图像</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/data-fetching/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">数据获取</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/astro-db/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Astro DB</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="7"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">服务端渲染</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/on-demand-rendering/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">按需渲染</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/server-islands/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">服务器群岛</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/actions/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Actions</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/sessions/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Sessions</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="8"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">升级</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/upgrade-astro/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">升级 Astro</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="9"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">主版本升级指南</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/upgrade-to/v5/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">v5.0</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/upgrade-to/v4/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">v4.0</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/upgrade-to/v3/" aria-current="page" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">v3.0</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/upgrade-to/v2/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">v2.0</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/upgrade-to/v1/" aria-current="false" class="fallback astro-ug4msnsl" class="fallback">
						<span class="astro-ug4msnsl">v1.0</span>
						
					</a>
			</li>
</ul>
					</details>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/troubleshooting/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">故障排除</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<details class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="10"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">操作方案</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">方案概览</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/add-yaml-support/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">安装一个 Vite 或 Rollup 插件</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/analyze-bundle-size/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">分析打包产物的大小</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/build-custom-img-component/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">构建自定义图像组件</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/build-forms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">在 Astro 页面中构建 HTML 表单</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/build-forms-api/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">使用 API 路由构建表单</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/bun/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">在 Astro 中使用 Bun</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/call-endpoints/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">调用服务器端点</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/captcha/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">校验验证码</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/customizing-output-filenames/" aria-current="false" class="fallback astro-ug4msnsl" class="fallback">
						<span class="astro-ug4msnsl">Customize file names in the build output</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/docker/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">用 Docker 来构建你的 Astro 网站</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/dynamically-importing-images/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">动态导入图片</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/external-links/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">为链接添加图标</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/i18n/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">添加 i18n 功能</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/making-toolbar-apps/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">创建开发者工具栏应用</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/modified-time/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">添加最后修改时间</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/reading-time/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">添加阅读时间</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/rss/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">添加 RSS 摘要</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/sharing-state/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">在 Astro 组件中共享状态</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/sharing-state-islands/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">群岛间的状态共享</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/streaming-improve-page-performance/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">使用流式处理来提升页面性能</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/recipes/tailwind-rendered-markdown/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">使用 Tailwind Typography 美化渲染后的 Markdown</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/contribute/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">为 Astro 做出贡献</span>
						
					</a>
			</li>
</ul>
				
</div><div id="__tab-参考" class="astro-s7ttdo4b">
	
					<ul class="top-level astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="11"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">Astro 模板语法</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/astro-syntax/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">模板表达式参考</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/directives-reference/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">模板指令参考</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/configuration-reference/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">配置参考</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/cli-reference/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">CLI 命令</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/imports/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">导入参考</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/routing-reference/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">路由参考</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="12"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">运行时 API</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/api-reference/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">渲染上下文</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/modules/astro-actions/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">astro:actions</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/modules/astro-assets/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">astro:assets</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/modules/astro-config/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">astro:config</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/modules/astro-content/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">astro:content</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/modules/astro-env/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">astro:env</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/modules/astro-i18n/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">astro:i18n</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/modules/astro-middleware/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">astro:middleware</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/modules/astro-transitions/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">astro:transitions</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="13"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">其他开发 API</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/integrations-reference/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">集成 API</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/adapter-reference/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">适配器 API</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/content-loader-reference/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">内容加载器 API</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/image-service-reference/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">图像服务 API</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/dev-toolbar-app-reference/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">开发者工具栏应用 API</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/container-reference/" aria-current="false" class="fallback astro-ug4msnsl" class="fallback">
						<span class="astro-ug4msnsl">Container API (experimental)</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/programmatic-reference/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">编程式 Astro API（实验性）</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="14"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">实验性功能</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/experimental-flags/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">配置实验性标志</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/experimental-flags/csp/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">内容安全策略</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/experimental-flags/fonts/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">字体</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/experimental-flags/live-content-collections/" aria-current="false" class="fallback astro-ug4msnsl" class="fallback">
						<span class="astro-ug4msnsl">Live content collections</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/experimental-flags/client-prerender/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">客户端预渲染</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/experimental-flags/content-intellisense/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">用于集合的 Intellisense</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/experimental-flags/preserve-scripts-order/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">保留脚本顺序</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/experimental-flags/heading-id-compat/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Markdown 标题 ID 兼容性</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/experimental-flags/static-import-meta-env/" aria-current="false" class="fallback astro-ug4msnsl" class="fallback">
						<span class="astro-ug4msnsl">Private meta environment variables inlining</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/experimental-flags/chrome-devtools-workspace/" aria-current="false" class="fallback astro-ug4msnsl" class="fallback">
						<span class="astro-ug4msnsl">Chrome DevTools workspace</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/legacy-flags/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">旧版标志</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/error-reference/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">错误参考</span>
						
					</a>
			</li>
</ul>
				
</div><div id="__tab-集成" class="astro-s7ttdo4b">
	
					<ul class="top-level astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">集成概览</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="15"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">UI 框架</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/alpinejs/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Alpine.js</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/preact/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Preact</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/react/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">React</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/solid-js/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">SolidJS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/svelte/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Svelte</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/vue/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Vue</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="16"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">适配器</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/cloudflare/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Cloudflare</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/netlify/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Netlify</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/node/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Node</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/vercel/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Vercel</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details open class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="17"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">其他官方集成</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/db/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">DB</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/markdoc/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Markdoc</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/mdx/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">MDX</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/partytown/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Partytown</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/integrations-guide/sitemap/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Sitemap</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/reference/publish-to-npm/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">发布到 NPM</span>
						
					</a>
			</li>
</ul>
				
</div><div id="__tab-第三方服务" class="astro-s7ttdo4b">
	
					<ul class="top-level astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<details class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="18"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">部署指南</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">部署概览</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/aws/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">AWS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/azion/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Azion</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/buddy/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Buddy</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/cleavr/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Cleavr</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/clever-cloud/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Clever Cloud</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/cloudflare/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Cloudflare</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/cloudray/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">CloudRay</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/deno/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Deno</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/fleek/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Fleek</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/flightcontrol/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Flightcontrol</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/flyio/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Fly.io</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/github/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">GitHub Pages</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/gitlab/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">GitLab Pages</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/google-cloud/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Google Cloud</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/google-firebase/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Google Firebase</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/heroku/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Heroku</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/kinsta/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Kinsta</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/microsoft-azure/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Microsoft Azure</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/netlify/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Netlify</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/railway/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Railway</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/render/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Render</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/sst/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">SST</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/stormkit/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Stormkit</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/surge/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Surge</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/vercel/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Vercel</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/zeabur/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Zeabur</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/deploy/zerops/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Zerops</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="19"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">内容管理系统</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">CMS 概览</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/apostrophecms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">ApostropheCMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/builderio/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Builder.io</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/buttercms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">ButterCMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/caisy/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Caisy</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/cloudcannon/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">CloudCannon</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/contentful/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Contentful</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/cosmic/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Cosmic</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/craft-cms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Craft CMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/crystallize/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Crystallize</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/datocms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">DatoCMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/decap-cms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Decap CMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/directus/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Directus</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/drupal/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Drupal</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/flotiq/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Flotiq 与 Astro</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/frontmatter-cms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Front Matter CMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/ghost/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Ghost</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/gitcms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">GitCMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/hashnode/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Hashnode</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/hygraph/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Hygraph</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/keystatic/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Keystatic</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/keystonejs/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">KeystoneJS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/kontent-ai/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Kontent.ai</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/microcms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">microCMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/optimizely/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Optimizely CMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/payload/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Payload CMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/preprcms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Prepr CMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/prismic/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Prismic</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/sanity/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Sanity</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/sitecore/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Sitecore XM</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/sitepins/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Sitepins</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/spinal/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Spinal</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/statamic/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Statamic</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/storyblok/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Storyblok</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/strapi/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Strapi</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/studiocms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">StudioCMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/tina-cms/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Tina CMS</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/umbraco/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Umbraco</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/cms/wordpress/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">WordPress</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="20"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">后端服务</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/backend/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">后端服务概览</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/backend/appwriteio/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Appwrite</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/backend/google-firebase/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Firebase</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/backend/neon/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Neon</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/backend/prisma-postgres/" aria-current="false" class="fallback astro-ug4msnsl" class="fallback">
						<span class="astro-ug4msnsl">Prisma Postgres</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/backend/sentry/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Sentry</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/backend/supabase/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Supabase</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/backend/turso/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Turso</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/backend/xata/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Xata</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<details class="astro-ug4msnsl">
						<sl-sidebar-restore data-index="21"></sl-sidebar-restore>
						<summary class="astro-ug4msnsl">
							<div class="group-label astro-ug4msnsl">
								<span class="large astro-ug4msnsl">托管媒体 &amp; DAM</span>
								
							</div>
							
	<svg aria-hidden="true" class="caret astro-ug4msnsl astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</summary>
						<ul class="astro-ug4msnsl">
	<li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/media/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">数字资源管理器概览</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/media/cloudinary/" aria-current="false" class="astro-ug4msnsl">
						<span class="astro-ug4msnsl">Cloudinary</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/media/mux/" aria-current="false" class="fallback astro-ug4msnsl" class="fallback">
						<span class="astro-ug4msnsl">Mux</span>
						
					</a>
			</li>
</ul>
					</details>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/ecommerce/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">电子商务</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/authentication/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">身份认证</span>
						
					</a>
			</li><li class="astro-ug4msnsl">
				<a href="/zh-cn/guides/testing/" aria-current="false" class="large astro-ug4msnsl">
						<span class="astro-ug4msnsl">测试</span>
						
					</a>
			</li>
</ul>
				
</div>
	</div>
</tabbed-content>



<script type="module">class d extends HTMLElement{id=Math.floor(Math.random()*1e11).toString(32);count=0;TabStore=[];PanelStore=[];constructor(){super();const n=this.querySelectorAll(".panels > [id]"),s=this.querySelector(".tab-list"),t=s.querySelectorAll("a");s.setAttribute("role","tablist");let i=0;Array.prototype.forEach.call(t,(e,a)=>{e.setAttribute("role","tab"),e.setAttribute("id",this.id+"tab"+this.count++),e.setAttribute("tabindex","-1"),e.parentElement?.setAttribute("role","presentation"),this.TabStore[a]||this.TabStore.push(new Set),this.TabStore[a].add(e),"initial"in e.dataset&&e.dataset.initial!=="false"&&(i=a);const c=r=>{r.preventDefault();const o=s.querySelector("[aria-selected]");r.currentTarget!==o&&this.switchTab(r.currentTarget,a)};e.addEventListener("click",c),e.addEventListener("auxclick",c),e.addEventListener("keydown",r=>{const o=Array.prototype.indexOf.call(t,r.currentTarget),l=r.key==="ArrowLeft"?o-1:r.key==="ArrowRight"?o+1:r.key==="Home"?0:r.key==="End"?t.length-1:null;l!==null&&(r.preventDefault(),t[l]&&this.switchTab(t[l],l))})}),Array.prototype.forEach.call(n,(e,a)=>{e.setAttribute("role","tabpanel"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-labelledby",t[a].id),e.hidden=!0,this.PanelStore[a]||this.PanelStore.push(new Set),this.PanelStore[a].add(e)}),t[i].removeAttribute("tabindex"),t[i].setAttribute("aria-selected","true"),n[i].hidden=!1}switchTab(n,s){this.TabStore.forEach(t=>t.forEach(i=>{i.removeAttribute("aria-selected"),i.setAttribute("tabindex","-1")})),this.TabStore[s].forEach(t=>{t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true")}),this.PanelStore.forEach(t=>t.forEach(i=>{i.hidden=!0})),this.PanelStore[s].forEach(t=>{t.hidden=!1}),n.focus()}}customElements.define("tabbed-content",d);</script>


	<script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script>
</sl-sidebar-state-persist>

<div class="md:sl-hidden astro-3x5efdbn">
	<div class="sl-flex astro-mkinwl4g">
	<div dir="ltr" lang="en" class="sponsors astro-kwmzlgva">
	<h2 class="sponsors-title astro-kwmzlgva">赞助商</h2>
	<a href="https://www.netlify.com/?utm_campaign=Astro-2024&utm_source=astro-referral" aria-label="Netlify" class="astro-kwmzlgva">
		<svg viewBox="0 0 256 105" width="96" aria-hidden="true" fill="currentColor" class="astro-kwmzlgva">
	<path fill="#32E6E2" d="M58.5 103.8V77.4l.5-.5h6.6l.6.5v26.4l-.6.5H59l-.5-.5Zm0-76.9V.5L59 0h6.6l.6.5V27l-.6.5H59l-.5-.5ZM35.8 85.2h-1l-4.4-4.5v-.9l8.5-8.5h4.7l.7.6v4.8l-8.5 8.5Zm-5.4-60.5v-.9l4.5-4.5h.9l8.5 8.5v4.8l-.7.6H39l-8.5-8.5ZM.5 48.3H38l.5.6v6.6l-.5.5H.5l-.5-.5v-6.6l.5-.6Zm255 0 .5.6v6.6l-.6.5h-37.8l-.6-.5 2.8-6.6.5-.6h35.1Z"></path>
	<path d="M74.7 65.9H68l-.6-.6V50c0-2.7-1-4.9-4.4-5-1.7 0-3.6 0-5.7.2l-.3.3v20l-.6.5H50l-.6-.6V39l.6-.6h14.8c5.7 0 10.4 4.7 10.4 10.5v16.4l-.5.6Zm31.9-11.6-.6.6H89l-.6.5c0 1.1 1.1 4.4 5.5 4.4 1.7 0 3.3-.5 3.9-1.6l.5-.6h6.6l.6.6c-.6 3.3-3.3 8.2-11.6 8.2-9.3 0-13.7-6.6-13.7-14.3S84.6 38 93.4 38s13.2 6.6 13.2 14.2v2.2ZM98.3 49c0-.6-.5-4.4-5-4.4s-4.9 3.8-4.9 4.4l.6.5h8.8l.5-.5Zm23.7 8.7c0 1.1.5 1.7 1.6 1.7h5l.5.5v5.5l-.6.6h-4.9c-5 0-9.3-2.2-9.3-8.3v-12l-.6-.6H110l-.6-.5V39l.6-.6h3.8l.6-.5v-5l.5-.5h6.6l.5.5v5l.6.5h6l.6.6v5.5l-.6.5h-6l-.6.6v12Zm20.3 8.3h-6.6l-.6-.6V28l.6-.6h6.6l.5.6v37.3l-.5.6ZM157 34h-6.6l-.5-.5V28l.5-.6h6.6l.6.6v5.5l-.6.5Zm0 31.9h-6.6l-.5-.6V39l.5-.6h6.6l.6.6v26.3l-.6.6Zm25.8-38v5.6l-.5.5h-5c-1 0-1.6.6-1.6 1.7v2.2l.5.5h5.5l.6.6v5.5l-.6.5h-5.5l-.5.6v19.7l-.6.6h-6.5l-.6-.6V45.5l-.5-.5h-3.9l-.5-.5V39l.5-.6h3.9l.5-.5v-2.2c0-6 4.4-8.3 9.4-8.3h4.9l.5.6Zm20.3 38.5c-2.2 5.5-4.3 8.8-12 8.8h-2.8l-.5-.5v-5.5l.5-.6h2.8c2.7 0 3.3-.5 3.8-2.2V66l-8.8-21.4V39l.6-.6h5l.5.6 6.5 18.7h.6L206 39l.5-.6h5l.5.6v5.5l-8.8 22Z"></path>
</svg>
	</a>

	<a href="https://firebase.studio/?utm_source=astro&utm_medium=astro&utm_campaign=astro" aria-label="Firebase Studio" class="astro-kwmzlgva">
		
		<svg xmlns="http://www.w3.org/2000/svg" width="155" viewBox="0 0 322 65" class="astro-kwmzlgva">
			<path fill="#FFC400" d="M31.39 24.27c.4.03.95.18 1.6.28l6.58 4.25-21.52 12.8a12.27 12.27 0 0 1-4.05.72l-8.27-9.85 17.35-6.74c1.77-.66 3.31-1 4.44-1.18 1.26-.21 2.5-.4 3.87-.27h-.01Z" class="astro-kwmzlgva"></path>
			<path fill="url(#fbs-gradient-a-88382)" d="M30.99 7.92a14.8 14.8 0 0 0-.5-1.73 12.76 12.76 0 0 0-3.02-4.9c-.34-.34-.8-.75-1.38-1.17a60.17 60.17 0 0 1-5.76 6.05C16.73 9.45 10.84 14 7.06 17.42c-.66.6-2 1.94-3.2 3.98v.01c-.22.38-.49.86-.77 1.44l-.13.28-.35.8a15.19 15.19 0 0 0-1.24 4.5 12.85 12.85 0 0 0 .27 4.19 13.5 13.5 0 0 0 4.46 7.05 12 12 0 0 0 7.9 2.65v-.02c-.14-.48-.3-1.17-.37-2.02a12.7 12.7 0 0 1 1.14-6.25c.36-.84 1.23-2.81 3.1-4.6.87-.84 1.81-1.52 2.75-2.13 1.01-.67 1.9-1.18 2.4-1.53.02-.01-.01 0 0 0l.07-.05a20.71 20.71 0 0 0 7.08-9.04c.21-.56.38-1.11.38-1.11.57-1.78 1.13-4.53.44-7.66Z" class="astro-kwmzlgva"></path>
			<path fill="#FF9100" d="M14 42.33a12 12 0 0 1-7.9-2.66A13.29 13.29 0 0 1 1.5 32a13.32 13.32 0 0 1 1.1-8.06c.44-1.08.9-1.94 1.25-2.53a7.97 7.97 0 0 0 3.62 4.31c.37.24 2.1 1.35 4.71 1.93a14.13 14.13 0 0 0 10.89-1.92c-.5.36-1.44.9-2.46 1.57-.93.61-1.87 1.29-2.74 2.13a13.73 13.73 0 0 0-3.1 4.6 12.7 12.7 0 0 0-1.14 6.26c.07.86.23 1.56.36 2.03Z" class="astro-kwmzlgva"></path>
			<path fill="url(#fbs-gradient-b-88382)" d="M42.05 41.41a14.89 14.89 0 0 0 1.13-3.25 12.25 12.25 0 0 0 .12-4.58c-.53-2.89-2.74-5.23-2.97-5.47 0 0-1.5-1.54-3.7-2.6-.32-.16-.87-.43-1.65-.67a19.01 19.01 0 0 0-3.6-.58c.09.02.22.03.37.07.36.09.62.21.81.31.19.09.47.23.77.5a2.32 2.32 0 0 1 .81 1.26c.27 1.09-.4 2.11-.64 2.48-1.72 2.64-11.06 8.13-16.59 13.83a14.7 14.7 0 0 0-3.15 4.45 14.15 14.15 0 0 0-.93 8.17 14.38 14.38 0 0 0 5.76 8.8 96.15 96.15 0 0 1 6.88-6.97c4.49-4.08 10.33-8.6 10.33-8.6s4.49-3.63 6.24-7.15Z" class="astro-kwmzlgva"></path>
			<path fill="currentColor" d="M60.04 17.72h17.5v4.3h-13v8.3h11.71v4.26h-11.7v11.95h-4.51v-28.8ZM82.4 23.2c-.82 0-1.54-.29-2.13-.85a2.98 2.98 0 0 1-.84-2.13c0-.84.28-1.53.84-2.1a2.9 2.9 0 0 1 2.14-.88c.83 0 1.53.3 2.09.88.59.57.88 1.26.88 2.1a2.94 2.94 0 0 1-2.98 2.97Zm-2.2 3.37h4.42v19.96h-4.43V26.57Zm8.52 0h4.19v2.98h.24A5.41 5.41 0 0 1 95.48 27a6.5 6.5 0 0 1 3.46-1.04 6 6 0 0 1 2.37.4V31a6.74 6.74 0 0 0-3.05-.69 4.7 4.7 0 0 0-3.66 1.7 5.94 5.94 0 0 0-1.45 4.06v10.46h-4.43V26.57Zm22.58 20.6c-1.96 0-3.73-.46-5.3-1.37a9.73 9.73 0 0 1-3.67-3.78 11.31 11.31 0 0 1-1.33-5.47c0-1.93.42-3.7 1.25-5.31a9.75 9.75 0 0 1 8.81-5.31c2.01 0 3.75.44 5.23 1.33a8.61 8.61 0 0 1 3.42 3.7 11.9 11.9 0 0 1 1.09 6.51h-15.37a5.8 5.8 0 0 0 1.97 4.23 6.08 6.08 0 0 0 4.02 1.49c2.3 0 4.08-1.08 5.31-3.22l3.78 1.8a10.45 10.45 0 0 1-3.7 3.95 10.17 10.17 0 0 1-5.5 1.45Zm5.07-13.08a4.86 4.86 0 0 0-.64-1.97 4.49 4.49 0 0 0-1.77-1.69 5.48 5.48 0 0 0-2.94-.72c-1.31 0-2.45.4-3.42 1.2a6.14 6.14 0 0 0-1.93 3.18h10.7Zm18 13.08a8 8 0 0 1-3.9-.93 6.5 6.5 0 0 1-2.53-2.33h-.24v2.62h-4.19v-28.8h4.43v8.64l-.24 2.78h.24a6.62 6.62 0 0 1 2.53-2.3 8.14 8.14 0 0 1 3.9-.92c1.72 0 3.3.45 4.75 1.37a9.66 9.66 0 0 1 3.5 3.82c.89 1.6 1.33 3.42 1.33 5.43s-.44 3.82-1.33 5.43a10.03 10.03 0 0 1-3.5 3.82 8.73 8.73 0 0 1-4.75 1.37Zm-.76-4.06a5.79 5.79 0 0 0 5.07-3.1c.56-1.02.84-2.17.84-3.46a6.8 6.8 0 0 0-.84-3.42 5.73 5.73 0 0 0-8-2.33c-.9.53-1.62 1.3-2.18 2.29-.54 1-.8 2.14-.8 3.46 0 1.31.26 2.47.8 3.46a5.7 5.7 0 0 0 5.1 3.1Zm19.73 4.06c-1.42 0-2.7-.28-3.86-.85a7.11 7.11 0 0 1-2.7-2.4 6.62 6.62 0 0 1-.96-3.55c0-2.1.78-3.74 2.33-4.95a9.6 9.6 0 0 1 6-1.8c2.12 0 3.93.35 5.43 1.08v-.85c0-1.2-.49-2.2-1.45-2.97a5.08 5.08 0 0 0-3.42-1.21c-2.04 0-3.67.83-4.9 2.5l-3.39-2.34a9.38 9.38 0 0 1 3.5-2.9c1.43-.67 3.02-1 4.79-1 2.92 0 5.18.74 6.76 2.21 1.6 1.45 2.41 3.5 2.41 6.16v12.23h-4.3v-2.46h-.24a7.92 7.92 0 0 1-2.46 2.25c-.99.57-2.17.85-3.54.85Zm.73-3.66c.99 0 1.9-.24 2.73-.73a5.68 5.68 0 0 0 2.01-1.97 5 5 0 0 0 .77-2.65 9.33 9.33 0 0 0-4.55-1.17 5.5 5.5 0 0 0-3.46.97 2.98 2.98 0 0 0-.16 4.7 4.3 4.3 0 0 0 2.66.85Zm20.44 3.66a9.7 9.7 0 0 1-5.67-1.57 8.8 8.8 0 0 1-3.14-4.02l3.95-1.7a5.31 5.31 0 0 0 1.97 2.5 5.3 5.3 0 0 0 2.9.85c1.1 0 2-.2 2.69-.6.7-.44 1.04-.99 1.04-1.66 0-.64-.28-1.16-.84-1.56a7.92 7.92 0 0 0-2.78-1.13l-2.73-.65a8.96 8.96 0 0 1-3.9-1.93 4.8 4.8 0 0 1-1.61-3.74c0-1.85.76-3.31 2.29-4.38a9.39 9.39 0 0 1 5.63-1.65c1.85 0 3.49.39 4.91 1.16 1.45.78 2.5 1.9 3.14 3.38l-3.9 1.65a3.75 3.75 0 0 0-1.74-1.85c-.77-.4-1.62-.6-2.53-.6-.88 0-1.66.2-2.33.6-.67.38-1 .89-1 1.53 0 .57.22 1.02.68 1.37.48.35 1.23.64 2.25.88l2.98.73c2 .5 3.5 1.29 4.5 2.33a5.1 5.1 0 0 1 1.49 3.7 5.2 5.2 0 0 1-1.09 3.22 7.1 7.1 0 0 1-2.93 2.3c-1.24.56-2.65.84-4.23.84Zm20.42 0c-1.96 0-3.73-.46-5.31-1.37a9.73 9.73 0 0 1-3.66-3.78 11.31 11.31 0 0 1-1.33-5.47c0-1.93.41-3.7 1.24-5.31a9.76 9.76 0 0 1 8.81-5.31 9.9 9.9 0 0 1 5.23 1.33 8.61 8.61 0 0 1 3.42 3.7 11.91 11.91 0 0 1 1.09 6.51h-15.37a5.8 5.8 0 0 0 1.97 4.23 6.08 6.08 0 0 0 4.03 1.49c2.3 0 4.07-1.08 5.3-3.22l3.79 1.8a10.45 10.45 0 0 1-3.7 3.95c-1.56.97-3.4 1.45-5.51 1.45Zm5.06-13.08a4.88 4.88 0 0 0-.64-1.97 4.5 4.5 0 0 0-1.77-1.69 5.48 5.48 0 0 0-2.94-.72c-1.31 0-2.45.4-3.41 1.2a6.13 6.13 0 0 0-1.94 3.18H200Zm24.71 13.08c-1.45 0-2.86-.3-4.23-.89a11.03 11.03 0 0 1-3.58-2.65 10.78 10.78 0 0 1-2.21-4.27l3.26-1.32a8.4 8.4 0 0 0 2.53 4.22 6.27 6.27 0 0 0 4.3 1.65 6.8 6.8 0 0 0 4.27-1.33 4.47 4.47 0 0 0 1.73-3.7c0-1.34-.5-2.44-1.49-3.3-.97-.88-2.56-1.7-4.79-2.45l-1.8-.64a14.42 14.42 0 0 1-5-2.86c-1.28-1.18-1.93-2.82-1.93-4.9a6.8 6.8 0 0 1 1.13-3.79 8.07 8.07 0 0 1 3.1-2.82 9.62 9.62 0 0 1 4.5-1.04c1.67 0 3.11.3 4.35.92a8.71 8.71 0 0 1 4.5 4.87l-3.17 1.37a5.55 5.55 0 0 0-5.6-3.9 5.9 5.9 0 0 0-3.78 1.24 3.85 3.85 0 0 0-1.57 3.14c0 1.13.45 2.05 1.33 2.78.89.7 2.23 1.35 4.02 1.97l1.85.64c2.45.89 4.35 2 5.72 3.34 1.4 1.32 2.09 3.11 2.09 5.4 0 1.84-.48 3.4-1.45 4.66a8.29 8.29 0 0 1-3.58 2.77c-1.45.6-2.95.89-4.5.89Zm19.63-.32c-.8 0-1.55-.14-2.25-.4a5.41 5.41 0 0 1-1.73-1.1 4.95 4.95 0 0 1-1.2-1.76 7.5 7.5 0 0 1-.37-2.46V29.67h-3.54v-3.1h3.54v-5.95h3.38v5.95h4.91v3.1h-4.9v10.62c0 1.13.22 1.96.68 2.5.45.58 1.15.88 2.09.88a4.1 4.1 0 0 0 2.17-.56v3.3a7.64 7.64 0 0 1-2.78.44Zm13.3.32c-2.47 0-4.35-.71-5.64-2.13-1.26-1.42-1.89-3.4-1.89-5.92V26.57h3.42v11.99c0 3.67 1.65 5.51 4.95 5.51 1.1 0 2.08-.3 2.94-.92a5.88 5.88 0 0 0 2-2.42c.5-.99.73-2.04.73-3.14V26.57h3.38v19.96h-3.22v-2.98h-.16a7.14 7.14 0 0 1-2.7 2.57 7.38 7.38 0 0 1-3.81 1.05Zm22.27 0c-1.71 0-3.3-.46-4.74-1.37a9.83 9.83 0 0 1-3.46-3.78 11.6 11.6 0 0 1-1.29-5.47c0-2.01.43-3.82 1.29-5.43a9.76 9.76 0 0 1 3.46-3.82 8.74 8.74 0 0 1 4.74-1.37c1.56 0 2.96.35 4.19 1.04a7.1 7.1 0 0 1 2.78 2.54h.16l-.16-2.74v-9.05h3.37v28.8h-3.21v-2.97h-.16a7.28 7.28 0 0 1-2.78 2.61c-1.23.67-2.63 1-4.19 1Zm.53-3.1a6.26 6.26 0 0 0 5.67-3.54c.62-1.15.93-2.48.93-3.98a8.1 8.1 0 0 0-.93-3.98 6.18 6.18 0 0 0-2.41-2.62 6.25 6.25 0 0 0-6.56 0 6.7 6.7 0 0 0-2.41 2.66 8.38 8.38 0 0 0-.89 3.94c0 1.5.3 2.83.89 3.98a6.9 6.9 0 0 0 2.41 2.62c1.02.61 2.12.92 3.3.92Zm16.04-21.68c-.67 0-1.24-.24-1.73-.73a2.36 2.36 0 0 1-.72-1.73c0-.67.24-1.24.72-1.73a2.36 2.36 0 0 1 1.73-.72c.67 0 1.25.24 1.73.72.49.49.73 1.06.73 1.73 0 .67-.24 1.25-.73 1.73-.45.49-1.03.73-1.73.73Zm-1.69 4.18h3.38v19.96h-3.38V26.57Zm16.77 20.6c-1.96 0-3.72-.46-5.27-1.37a10.03 10.03 0 0 1-3.66-3.82 11.51 11.51 0 0 1-1.29-5.43c0-1.99.43-3.78 1.29-5.4a10 10 0 0 1 8.93-5.23 10 10 0 0 1 8.93 5.24 11 11 0 0 1 1.33 5.39c0 1.98-.44 3.8-1.33 5.43a9.65 9.65 0 0 1-3.66 3.82 10.23 10.23 0 0 1-5.27 1.37Zm0-3.1a6.69 6.69 0 0 0 5.87-3.54c.65-1.15.97-2.48.97-3.98a7.8 7.8 0 0 0-.97-3.94 6.62 6.62 0 0 0-5.87-3.58c-1.18 0-2.3.3-3.34.92a6.9 6.9 0 0 0-2.53 2.66 8.08 8.08 0 0 0-.93 3.94c0 1.5.3 2.83.93 3.98.64 1.13 1.48 2 2.53 2.62 1.05.61 2.16.92 3.34.92Z" class="astro-kwmzlgva"></path>
			<defs class="astro-kwmzlgva">
				<linearGradient id="fbs-gradient-a-88382" x1="5" x2="26.68" y1="37.44" y2=".98" gradientUnits="userSpaceOnUse" class="astro-kwmzlgva">
					<stop stop-color="#F8682F" class="astro-kwmzlgva"></stop>
					<stop offset="1" stop-color="#DD2C00" class="astro-kwmzlgva"></stop>
				</linearGradient>
				<linearGradient id="fbs-gradient-b-88382" x1="25.29" x2="22.81" y1="27.27" y2="70.76" gradientUnits="userSpaceOnUse" class="astro-kwmzlgva">
					<stop stop-color="#F8682F" class="astro-kwmzlgva"></stop>
					<stop offset=".57" stop-color="#E92A4E" class="astro-kwmzlgva"></stop>
					<stop offset="1" stop-color="#C447FF" class="astro-kwmzlgva"></stop>
				</linearGradient>
			</defs>
		</svg>
	</a>

	<a href="https://sentry.io/welcome/?utm_medium=partner&utm_source=astro&utm_campaign=astro-docs" aria-label="Sentry" class="astro-kwmzlgva">
		<svg viewBox="0 0 200 44" width="96" aria-hidden="true" class="astro-kwmzlgva">
	<path d="M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z M124.32,28.28,109.56,9.22h-3.68V34.77h3.73V15.19l15.18,19.58h3.26V9.22h-3.73ZM87.15,23.54h13.23V20.22H87.14V12.53h14.93V9.21H83.34V34.77h18.92V31.45H87.14ZM71.59,20.3h0C66.44,19.06,65,18.08,65,15.7c0-2.14,1.89-3.59,4.71-3.59a12.06,12.06,0,0,1,7.07,2.55l2-2.83a14.1,14.1,0,0,0-9-3c-5.06,0-8.59,3-8.59,7.27,0,4.6,3,6.19,8.46,7.52C74.51,24.74,76,25.78,76,28.11s-2,3.77-5.09,3.77a12.34,12.34,0,0,1-8.3-3.26l-2.25,2.69a15.94,15.94,0,0,0,10.42,3.85c5.48,0,9-2.95,9-7.51C79.75,23.79,77.47,21.72,71.59,20.3ZM195.7,9.22l-7.69,12-7.64-12h-4.46L186,24.67V34.78h3.84V24.55L200,9.22Zm-64.63,3.46h8.37v22.1h3.84V12.68h8.37V9.22H131.08ZM169.41,24.8c3.86-1.07,6-3.77,6-7.63,0-4.91-3.59-8-9.38-8H154.67V34.76h3.8V25.58h6.45l6.48,9.2h4.44l-7-9.82Zm-10.95-2.5V12.6h7.17c3.74,0,5.88,1.77,5.88,4.84s-2.29,4.86-5.84,4.86Z" fill="currentColor"></path>
</svg>
	</a>

	<a href="https://www.mux.com/?utm_campaign=21819274-Astro&utm_source=astro" aria-label="Mux" class="astro-kwmzlgva">
		<svg viewBox="0 0 77 24" height="15" fill="currentColor" aria-hidden="true" class="astro-kwmzlgva">
	<path d="M47.73 0a2.98 2.98 0 0 0-2.97 3v9c0 3.31-2.67 6-5.94 6a5.97 5.97 0 0 1-5.94-6V3c0-1.66-1.33-3-2.97-3a2.98 2.98 0 0 0-2.97 3v9c0 6.62 5.33 12 11.88 12 6.55 0 11.88-5.38 11.88-12V3c.01-1.66-1.32-3-2.97-3zm13.19 12-6.81 6.88a3.02 3.02 0 0 0 0 4.24 2.95 2.95 0 0 0 4.2 0l6.81-6.88 6.81 6.88a2.95 2.95 0 0 0 4.2 0 3.02 3.02 0 0 0 0-4.24L69.32 12l6.81-6.88a3.02 3.02 0 0 0 0-4.24 2.95 2.95 0 0 0-4.2 0l-6.81 6.88L58.3.88a2.95 2.95 0 0 0-4.2 0 3.02 3.02 0 0 0 0 4.24L60.92 12zM21.93.23a2.96 2.96 0 0 0-3.24.65l-6.81 6.88L5.07.88A2.94 2.94 0 0 0 1.83.23 3 3 0 0 0 0 3v18c0 1.66 1.33 3 2.97 3s2.97-1.34 2.97-3V10.24l3.84 3.88a2.95 2.95 0 0 0 4.2 0l3.84-3.88V21c0 1.66 1.33 3 2.97 3s2.97-1.34 2.97-3V3A2.98 2.98 0 0 0 21.93.23z"></path>
</svg>
	</a>
</div>
	<div class="mobile-preferences sl-flex astro-4pp45uhr">
	<div class="social-icons astro-4pp45uhr">
		<a href="https://github.com/withastro/astro" rel="me" class="sl-flex astro-tpebbyzj">
					<span class="sr-only astro-tpebbyzj">GitHub</span>
					
	<svg aria-hidden="true" class="astro-tpebbyzj astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg>



				</a><a href="https://astro.build/chat" rel="me" class="sl-flex astro-tpebbyzj">
					<span class="sr-only astro-tpebbyzj">Discord</span>
					
	<svg aria-hidden="true" class="astro-tpebbyzj astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M20.32 4.37a19.8 19.8 0 0 0-4.93-1.51 13.78 13.78 0 0 0-.64 1.28 18.27 18.27 0 0 0-5.5 0 12.64 12.64 0 0 0-.64-1.28h-.05A19.74 19.74 0 0 0 3.64 4.4 20.26 20.26 0 0 0 .11 18.09l.02.02a19.9 19.9 0 0 0 6.04 3.03l.04-.02a14.24 14.24 0 0 0 1.23-2.03.08.08 0 0 0-.05-.07 13.1 13.1 0 0 1-1.9-.92.08.08 0 0 1 .02-.1 10.2 10.2 0 0 0 .41-.31h.04a14.2 14.2 0 0 0 12.1 0l.04.01a9.63 9.63 0 0 0 .4.32.08.08 0 0 1-.03.1 12.29 12.29 0 0 1-1.9.91.08.08 0 0 0-.02.1 15.97 15.97 0 0 0 1.27 2.01h.04a19.84 19.84 0 0 0 6.03-3.05v-.03a20.12 20.12 0 0 0-3.57-13.69ZM8.02 15.33c-1.18 0-2.16-1.08-2.16-2.42 0-1.33.96-2.42 2.16-2.42 1.21 0 2.18 1.1 2.16 2.42 0 1.34-.96 2.42-2.16 2.42Zm7.97 0c-1.18 0-2.15-1.08-2.15-2.42 0-1.33.95-2.42 2.15-2.42 1.22 0 2.18 1.1 2.16 2.42 0 1.34-.94 2.42-2.16 2.42Z"/></svg>



				</a>


	</div>
	<starlight-theme-select>
	
	<label style="--sl-select-width: 6.25em" class="astro-5trz26bn">
	<span class="sr-only astro-5trz26bn">选择主题</span>
	
	<svg aria-hidden="true" class="icon label-icon astro-5trz26bn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>



	<select value="auto" autocomplete="off" class="astro-5trz26bn">
		<option value="dark" class="astro-5trz26bn">深色</option><option value="light" class="astro-5trz26bn">浅色</option><option value="auto" selected class="astro-5trz26bn">自动</option>
	</select>
	
	<svg aria-hidden="true" class="icon caret astro-5trz26bn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>



</label>
</starlight-theme-select>


<script>
	StarlightThemeProvider.updatePickers();
</script>


	<starlight-lang-select>
			<label style="--sl-select-width: 7em" class="astro-5trz26bn">
	<span class="sr-only astro-5trz26bn">选择语言</span>
	
	<svg aria-hidden="true" class="icon label-icon astro-5trz26bn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M8.516 3a.94.94 0 0 0-.941.94v1.15H2.94a.94.94 0 1 0 0 1.882h7.362a7.422 7.422 0 0 1-1.787 3.958 7.42 7.42 0 0 1-1.422-2.425.94.94 0 1 0-1.774.627 9.303 9.303 0 0 0 1.785 3.043 7.422 7.422 0 0 1-4.164 1.278.94.94 0 1 0 0 1.881 9.303 9.303 0 0 0 5.575-1.855 9.303 9.303 0 0 0 4.11 1.74l-.763 1.525a.968.968 0 0 0-.016.034l-1.385 2.77a.94.94 0 1 0 1.683.841l1.133-2.267h5.806l1.134 2.267a.94.94 0 0 0 1.683-.841l-1.385-2.769a.95.95 0 0 0-.018-.036l-3.476-6.951a.94.94 0 0 0-1.682 0l-1.82 3.639a7.423 7.423 0 0 1-3.593-1.256 9.303 9.303 0 0 0 2.27-5.203h1.894a.94.94 0 0 0 0-1.881H9.456V3.94A.94.94 0 0 0 8.516 3Zm6.426 11.794a1.068 1.068 0 0 1-.02.039l-.703 1.407h3.924l-1.962-3.924-1.24 2.478Z" clip-rule="evenodd"/></svg>



	<select value="/zh-cn/guides/upgrade-to/v3/" autocomplete="off" class="astro-5trz26bn">
		<option value="/en/guides/upgrade-to/v3/" class="astro-5trz26bn">English</option><option value="/zh-cn/guides/upgrade-to/v3/" selected class="astro-5trz26bn">简体中文</option>
	</select>
	
	<svg aria-hidden="true" class="icon caret astro-5trz26bn astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>



</label>
		</starlight-lang-select>


</div>
</div>
</div>

<div class="desktop-footer sl-hidden md:sl-block astro-3x5efdbn">
	<div dir="ltr" lang="en" class="sponsors astro-kwmzlgva">
	<h2 class="sponsors-title astro-kwmzlgva">赞助商</h2>
	<a href="https://www.netlify.com/?utm_campaign=Astro-2024&utm_source=astro-referral" aria-label="Netlify" class="astro-kwmzlgva">
		<svg viewBox="0 0 256 105" width="96" aria-hidden="true" fill="currentColor" class="astro-kwmzlgva">
	<path fill="#32E6E2" d="M58.5 103.8V77.4l.5-.5h6.6l.6.5v26.4l-.6.5H59l-.5-.5Zm0-76.9V.5L59 0h6.6l.6.5V27l-.6.5H59l-.5-.5ZM35.8 85.2h-1l-4.4-4.5v-.9l8.5-8.5h4.7l.7.6v4.8l-8.5 8.5Zm-5.4-60.5v-.9l4.5-4.5h.9l8.5 8.5v4.8l-.7.6H39l-8.5-8.5ZM.5 48.3H38l.5.6v6.6l-.5.5H.5l-.5-.5v-6.6l.5-.6Zm255 0 .5.6v6.6l-.6.5h-37.8l-.6-.5 2.8-6.6.5-.6h35.1Z"></path>
	<path d="M74.7 65.9H68l-.6-.6V50c0-2.7-1-4.9-4.4-5-1.7 0-3.6 0-5.7.2l-.3.3v20l-.6.5H50l-.6-.6V39l.6-.6h14.8c5.7 0 10.4 4.7 10.4 10.5v16.4l-.5.6Zm31.9-11.6-.6.6H89l-.6.5c0 1.1 1.1 4.4 5.5 4.4 1.7 0 3.3-.5 3.9-1.6l.5-.6h6.6l.6.6c-.6 3.3-3.3 8.2-11.6 8.2-9.3 0-13.7-6.6-13.7-14.3S84.6 38 93.4 38s13.2 6.6 13.2 14.2v2.2ZM98.3 49c0-.6-.5-4.4-5-4.4s-4.9 3.8-4.9 4.4l.6.5h8.8l.5-.5Zm23.7 8.7c0 1.1.5 1.7 1.6 1.7h5l.5.5v5.5l-.6.6h-4.9c-5 0-9.3-2.2-9.3-8.3v-12l-.6-.6H110l-.6-.5V39l.6-.6h3.8l.6-.5v-5l.5-.5h6.6l.5.5v5l.6.5h6l.6.6v5.5l-.6.5h-6l-.6.6v12Zm20.3 8.3h-6.6l-.6-.6V28l.6-.6h6.6l.5.6v37.3l-.5.6ZM157 34h-6.6l-.5-.5V28l.5-.6h6.6l.6.6v5.5l-.6.5Zm0 31.9h-6.6l-.5-.6V39l.5-.6h6.6l.6.6v26.3l-.6.6Zm25.8-38v5.6l-.5.5h-5c-1 0-1.6.6-1.6 1.7v2.2l.5.5h5.5l.6.6v5.5l-.6.5h-5.5l-.5.6v19.7l-.6.6h-6.5l-.6-.6V45.5l-.5-.5h-3.9l-.5-.5V39l.5-.6h3.9l.5-.5v-2.2c0-6 4.4-8.3 9.4-8.3h4.9l.5.6Zm20.3 38.5c-2.2 5.5-4.3 8.8-12 8.8h-2.8l-.5-.5v-5.5l.5-.6h2.8c2.7 0 3.3-.5 3.8-2.2V66l-8.8-21.4V39l.6-.6h5l.5.6 6.5 18.7h.6L206 39l.5-.6h5l.5.6v5.5l-8.8 22Z"></path>
</svg>
	</a>

	<a href="https://firebase.studio/?utm_source=astro&utm_medium=astro&utm_campaign=astro" aria-label="Firebase Studio" class="astro-kwmzlgva">
		
		<svg xmlns="http://www.w3.org/2000/svg" width="155" viewBox="0 0 322 65" class="astro-kwmzlgva">
			<path fill="#FFC400" d="M31.39 24.27c.4.03.95.18 1.6.28l6.58 4.25-21.52 12.8a12.27 12.27 0 0 1-4.05.72l-8.27-9.85 17.35-6.74c1.77-.66 3.31-1 4.44-1.18 1.26-.21 2.5-.4 3.87-.27h-.01Z" class="astro-kwmzlgva"></path>
			<path fill="url(#fbs-gradient-a-9902)" d="M30.99 7.92a14.8 14.8 0 0 0-.5-1.73 12.76 12.76 0 0 0-3.02-4.9c-.34-.34-.8-.75-1.38-1.17a60.17 60.17 0 0 1-5.76 6.05C16.73 9.45 10.84 14 7.06 17.42c-.66.6-2 1.94-3.2 3.98v.01c-.22.38-.49.86-.77 1.44l-.13.28-.35.8a15.19 15.19 0 0 0-1.24 4.5 12.85 12.85 0 0 0 .27 4.19 13.5 13.5 0 0 0 4.46 7.05 12 12 0 0 0 7.9 2.65v-.02c-.14-.48-.3-1.17-.37-2.02a12.7 12.7 0 0 1 1.14-6.25c.36-.84 1.23-2.81 3.1-4.6.87-.84 1.81-1.52 2.75-2.13 1.01-.67 1.9-1.18 2.4-1.53.02-.01-.01 0 0 0l.07-.05a20.71 20.71 0 0 0 7.08-9.04c.21-.56.38-1.11.38-1.11.57-1.78 1.13-4.53.44-7.66Z" class="astro-kwmzlgva"></path>
			<path fill="#FF9100" d="M14 42.33a12 12 0 0 1-7.9-2.66A13.29 13.29 0 0 1 1.5 32a13.32 13.32 0 0 1 1.1-8.06c.44-1.08.9-1.94 1.25-2.53a7.97 7.97 0 0 0 3.62 4.31c.37.24 2.1 1.35 4.71 1.93a14.13 14.13 0 0 0 10.89-1.92c-.5.36-1.44.9-2.46 1.57-.93.61-1.87 1.29-2.74 2.13a13.73 13.73 0 0 0-3.1 4.6 12.7 12.7 0 0 0-1.14 6.26c.07.86.23 1.56.36 2.03Z" class="astro-kwmzlgva"></path>
			<path fill="url(#fbs-gradient-b-9902)" d="M42.05 41.41a14.89 14.89 0 0 0 1.13-3.25 12.25 12.25 0 0 0 .12-4.58c-.53-2.89-2.74-5.23-2.97-5.47 0 0-1.5-1.54-3.7-2.6-.32-.16-.87-.43-1.65-.67a19.01 19.01 0 0 0-3.6-.58c.09.02.22.03.37.07.36.09.62.21.81.31.19.09.47.23.77.5a2.32 2.32 0 0 1 .81 1.26c.27 1.09-.4 2.11-.64 2.48-1.72 2.64-11.06 8.13-16.59 13.83a14.7 14.7 0 0 0-3.15 4.45 14.15 14.15 0 0 0-.93 8.17 14.38 14.38 0 0 0 5.76 8.8 96.15 96.15 0 0 1 6.88-6.97c4.49-4.08 10.33-8.6 10.33-8.6s4.49-3.63 6.24-7.15Z" class="astro-kwmzlgva"></path>
			<path fill="currentColor" d="M60.04 17.72h17.5v4.3h-13v8.3h11.71v4.26h-11.7v11.95h-4.51v-28.8ZM82.4 23.2c-.82 0-1.54-.29-2.13-.85a2.98 2.98 0 0 1-.84-2.13c0-.84.28-1.53.84-2.1a2.9 2.9 0 0 1 2.14-.88c.83 0 1.53.3 2.09.88.59.57.88 1.26.88 2.1a2.94 2.94 0 0 1-2.98 2.97Zm-2.2 3.37h4.42v19.96h-4.43V26.57Zm8.52 0h4.19v2.98h.24A5.41 5.41 0 0 1 95.48 27a6.5 6.5 0 0 1 3.46-1.04 6 6 0 0 1 2.37.4V31a6.74 6.74 0 0 0-3.05-.69 4.7 4.7 0 0 0-3.66 1.7 5.94 5.94 0 0 0-1.45 4.06v10.46h-4.43V26.57Zm22.58 20.6c-1.96 0-3.73-.46-5.3-1.37a9.73 9.73 0 0 1-3.67-3.78 11.31 11.31 0 0 1-1.33-5.47c0-1.93.42-3.7 1.25-5.31a9.75 9.75 0 0 1 8.81-5.31c2.01 0 3.75.44 5.23 1.33a8.61 8.61 0 0 1 3.42 3.7 11.9 11.9 0 0 1 1.09 6.51h-15.37a5.8 5.8 0 0 0 1.97 4.23 6.08 6.08 0 0 0 4.02 1.49c2.3 0 4.08-1.08 5.31-3.22l3.78 1.8a10.45 10.45 0 0 1-3.7 3.95 10.17 10.17 0 0 1-5.5 1.45Zm5.07-13.08a4.86 4.86 0 0 0-.64-1.97 4.49 4.49 0 0 0-1.77-1.69 5.48 5.48 0 0 0-2.94-.72c-1.31 0-2.45.4-3.42 1.2a6.14 6.14 0 0 0-1.93 3.18h10.7Zm18 13.08a8 8 0 0 1-3.9-.93 6.5 6.5 0 0 1-2.53-2.33h-.24v2.62h-4.19v-28.8h4.43v8.64l-.24 2.78h.24a6.62 6.62 0 0 1 2.53-2.3 8.14 8.14 0 0 1 3.9-.92c1.72 0 3.3.45 4.75 1.37a9.66 9.66 0 0 1 3.5 3.82c.89 1.6 1.33 3.42 1.33 5.43s-.44 3.82-1.33 5.43a10.03 10.03 0 0 1-3.5 3.82 8.73 8.73 0 0 1-4.75 1.37Zm-.76-4.06a5.79 5.79 0 0 0 5.07-3.1c.56-1.02.84-2.17.84-3.46a6.8 6.8 0 0 0-.84-3.42 5.73 5.73 0 0 0-8-2.33c-.9.53-1.62 1.3-2.18 2.29-.54 1-.8 2.14-.8 3.46 0 1.31.26 2.47.8 3.46a5.7 5.7 0 0 0 5.1 3.1Zm19.73 4.06c-1.42 0-2.7-.28-3.86-.85a7.11 7.11 0 0 1-2.7-2.4 6.62 6.62 0 0 1-.96-3.55c0-2.1.78-3.74 2.33-4.95a9.6 9.6 0 0 1 6-1.8c2.12 0 3.93.35 5.43 1.08v-.85c0-1.2-.49-2.2-1.45-2.97a5.08 5.08 0 0 0-3.42-1.21c-2.04 0-3.67.83-4.9 2.5l-3.39-2.34a9.38 9.38 0 0 1 3.5-2.9c1.43-.67 3.02-1 4.79-1 2.92 0 5.18.74 6.76 2.21 1.6 1.45 2.41 3.5 2.41 6.16v12.23h-4.3v-2.46h-.24a7.92 7.92 0 0 1-2.46 2.25c-.99.57-2.17.85-3.54.85Zm.73-3.66c.99 0 1.9-.24 2.73-.73a5.68 5.68 0 0 0 2.01-1.97 5 5 0 0 0 .77-2.65 9.33 9.33 0 0 0-4.55-1.17 5.5 5.5 0 0 0-3.46.97 2.98 2.98 0 0 0-.16 4.7 4.3 4.3 0 0 0 2.66.85Zm20.44 3.66a9.7 9.7 0 0 1-5.67-1.57 8.8 8.8 0 0 1-3.14-4.02l3.95-1.7a5.31 5.31 0 0 0 1.97 2.5 5.3 5.3 0 0 0 2.9.85c1.1 0 2-.2 2.69-.6.7-.44 1.04-.99 1.04-1.66 0-.64-.28-1.16-.84-1.56a7.92 7.92 0 0 0-2.78-1.13l-2.73-.65a8.96 8.96 0 0 1-3.9-1.93 4.8 4.8 0 0 1-1.61-3.74c0-1.85.76-3.31 2.29-4.38a9.39 9.39 0 0 1 5.63-1.65c1.85 0 3.49.39 4.91 1.16 1.45.78 2.5 1.9 3.14 3.38l-3.9 1.65a3.75 3.75 0 0 0-1.74-1.85c-.77-.4-1.62-.6-2.53-.6-.88 0-1.66.2-2.33.6-.67.38-1 .89-1 1.53 0 .57.22 1.02.68 1.37.48.35 1.23.64 2.25.88l2.98.73c2 .5 3.5 1.29 4.5 2.33a5.1 5.1 0 0 1 1.49 3.7 5.2 5.2 0 0 1-1.09 3.22 7.1 7.1 0 0 1-2.93 2.3c-1.24.56-2.65.84-4.23.84Zm20.42 0c-1.96 0-3.73-.46-5.31-1.37a9.73 9.73 0 0 1-3.66-3.78 11.31 11.31 0 0 1-1.33-5.47c0-1.93.41-3.7 1.24-5.31a9.76 9.76 0 0 1 8.81-5.31 9.9 9.9 0 0 1 5.23 1.33 8.61 8.61 0 0 1 3.42 3.7 11.91 11.91 0 0 1 1.09 6.51h-15.37a5.8 5.8 0 0 0 1.97 4.23 6.08 6.08 0 0 0 4.03 1.49c2.3 0 4.07-1.08 5.3-3.22l3.79 1.8a10.45 10.45 0 0 1-3.7 3.95c-1.56.97-3.4 1.45-5.51 1.45Zm5.06-13.08a4.88 4.88 0 0 0-.64-1.97 4.5 4.5 0 0 0-1.77-1.69 5.48 5.48 0 0 0-2.94-.72c-1.31 0-2.45.4-3.41 1.2a6.13 6.13 0 0 0-1.94 3.18H200Zm24.71 13.08c-1.45 0-2.86-.3-4.23-.89a11.03 11.03 0 0 1-3.58-2.65 10.78 10.78 0 0 1-2.21-4.27l3.26-1.32a8.4 8.4 0 0 0 2.53 4.22 6.27 6.27 0 0 0 4.3 1.65 6.8 6.8 0 0 0 4.27-1.33 4.47 4.47 0 0 0 1.73-3.7c0-1.34-.5-2.44-1.49-3.3-.97-.88-2.56-1.7-4.79-2.45l-1.8-.64a14.42 14.42 0 0 1-5-2.86c-1.28-1.18-1.93-2.82-1.93-4.9a6.8 6.8 0 0 1 1.13-3.79 8.07 8.07 0 0 1 3.1-2.82 9.62 9.62 0 0 1 4.5-1.04c1.67 0 3.11.3 4.35.92a8.71 8.71 0 0 1 4.5 4.87l-3.17 1.37a5.55 5.55 0 0 0-5.6-3.9 5.9 5.9 0 0 0-3.78 1.24 3.85 3.85 0 0 0-1.57 3.14c0 1.13.45 2.05 1.33 2.78.89.7 2.23 1.35 4.02 1.97l1.85.64c2.45.89 4.35 2 5.72 3.34 1.4 1.32 2.09 3.11 2.09 5.4 0 1.84-.48 3.4-1.45 4.66a8.29 8.29 0 0 1-3.58 2.77c-1.45.6-2.95.89-4.5.89Zm19.63-.32c-.8 0-1.55-.14-2.25-.4a5.41 5.41 0 0 1-1.73-1.1 4.95 4.95 0 0 1-1.2-1.76 7.5 7.5 0 0 1-.37-2.46V29.67h-3.54v-3.1h3.54v-5.95h3.38v5.95h4.91v3.1h-4.9v10.62c0 1.13.22 1.96.68 2.5.45.58 1.15.88 2.09.88a4.1 4.1 0 0 0 2.17-.56v3.3a7.64 7.64 0 0 1-2.78.44Zm13.3.32c-2.47 0-4.35-.71-5.64-2.13-1.26-1.42-1.89-3.4-1.89-5.92V26.57h3.42v11.99c0 3.67 1.65 5.51 4.95 5.51 1.1 0 2.08-.3 2.94-.92a5.88 5.88 0 0 0 2-2.42c.5-.99.73-2.04.73-3.14V26.57h3.38v19.96h-3.22v-2.98h-.16a7.14 7.14 0 0 1-2.7 2.57 7.38 7.38 0 0 1-3.81 1.05Zm22.27 0c-1.71 0-3.3-.46-4.74-1.37a9.83 9.83 0 0 1-3.46-3.78 11.6 11.6 0 0 1-1.29-5.47c0-2.01.43-3.82 1.29-5.43a9.76 9.76 0 0 1 3.46-3.82 8.74 8.74 0 0 1 4.74-1.37c1.56 0 2.96.35 4.19 1.04a7.1 7.1 0 0 1 2.78 2.54h.16l-.16-2.74v-9.05h3.37v28.8h-3.21v-2.97h-.16a7.28 7.28 0 0 1-2.78 2.61c-1.23.67-2.63 1-4.19 1Zm.53-3.1a6.26 6.26 0 0 0 5.67-3.54c.62-1.15.93-2.48.93-3.98a8.1 8.1 0 0 0-.93-3.98 6.18 6.18 0 0 0-2.41-2.62 6.25 6.25 0 0 0-6.56 0 6.7 6.7 0 0 0-2.41 2.66 8.38 8.38 0 0 0-.89 3.94c0 1.5.3 2.83.89 3.98a6.9 6.9 0 0 0 2.41 2.62c1.02.61 2.12.92 3.3.92Zm16.04-21.68c-.67 0-1.24-.24-1.73-.73a2.36 2.36 0 0 1-.72-1.73c0-.67.24-1.24.72-1.73a2.36 2.36 0 0 1 1.73-.72c.67 0 1.25.24 1.73.72.49.49.73 1.06.73 1.73 0 .67-.24 1.25-.73 1.73-.45.49-1.03.73-1.73.73Zm-1.69 4.18h3.38v19.96h-3.38V26.57Zm16.77 20.6c-1.96 0-3.72-.46-5.27-1.37a10.03 10.03 0 0 1-3.66-3.82 11.51 11.51 0 0 1-1.29-5.43c0-1.99.43-3.78 1.29-5.4a10 10 0 0 1 8.93-5.23 10 10 0 0 1 8.93 5.24 11 11 0 0 1 1.33 5.39c0 1.98-.44 3.8-1.33 5.43a9.65 9.65 0 0 1-3.66 3.82 10.23 10.23 0 0 1-5.27 1.37Zm0-3.1a6.69 6.69 0 0 0 5.87-3.54c.65-1.15.97-2.48.97-3.98a7.8 7.8 0 0 0-.97-3.94 6.62 6.62 0 0 0-5.87-3.58c-1.18 0-2.3.3-3.34.92a6.9 6.9 0 0 0-2.53 2.66 8.08 8.08 0 0 0-.93 3.94c0 1.5.3 2.83.93 3.98.64 1.13 1.48 2 2.53 2.62 1.05.61 2.16.92 3.34.92Z" class="astro-kwmzlgva"></path>
			<defs class="astro-kwmzlgva">
				<linearGradient id="fbs-gradient-a-9902" x1="5" x2="26.68" y1="37.44" y2=".98" gradientUnits="userSpaceOnUse" class="astro-kwmzlgva">
					<stop stop-color="#F8682F" class="astro-kwmzlgva"></stop>
					<stop offset="1" stop-color="#DD2C00" class="astro-kwmzlgva"></stop>
				</linearGradient>
				<linearGradient id="fbs-gradient-b-9902" x1="25.29" x2="22.81" y1="27.27" y2="70.76" gradientUnits="userSpaceOnUse" class="astro-kwmzlgva">
					<stop stop-color="#F8682F" class="astro-kwmzlgva"></stop>
					<stop offset=".57" stop-color="#E92A4E" class="astro-kwmzlgva"></stop>
					<stop offset="1" stop-color="#C447FF" class="astro-kwmzlgva"></stop>
				</linearGradient>
			</defs>
		</svg>
	</a>

	<a href="https://sentry.io/welcome/?utm_medium=partner&utm_source=astro&utm_campaign=astro-docs" aria-label="Sentry" class="astro-kwmzlgva">
		<svg viewBox="0 0 200 44" width="96" aria-hidden="true" class="astro-kwmzlgva">
	<path d="M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z M124.32,28.28,109.56,9.22h-3.68V34.77h3.73V15.19l15.18,19.58h3.26V9.22h-3.73ZM87.15,23.54h13.23V20.22H87.14V12.53h14.93V9.21H83.34V34.77h18.92V31.45H87.14ZM71.59,20.3h0C66.44,19.06,65,18.08,65,15.7c0-2.14,1.89-3.59,4.71-3.59a12.06,12.06,0,0,1,7.07,2.55l2-2.83a14.1,14.1,0,0,0-9-3c-5.06,0-8.59,3-8.59,7.27,0,4.6,3,6.19,8.46,7.52C74.51,24.74,76,25.78,76,28.11s-2,3.77-5.09,3.77a12.34,12.34,0,0,1-8.3-3.26l-2.25,2.69a15.94,15.94,0,0,0,10.42,3.85c5.48,0,9-2.95,9-7.51C79.75,23.79,77.47,21.72,71.59,20.3ZM195.7,9.22l-7.69,12-7.64-12h-4.46L186,24.67V34.78h3.84V24.55L200,9.22Zm-64.63,3.46h8.37v22.1h3.84V12.68h8.37V9.22H131.08ZM169.41,24.8c3.86-1.07,6-3.77,6-7.63,0-4.91-3.59-8-9.38-8H154.67V34.76h3.8V25.58h6.45l6.48,9.2h4.44l-7-9.82Zm-10.95-2.5V12.6h7.17c3.74,0,5.88,1.77,5.88,4.84s-2.29,4.86-5.84,4.86Z" fill="currentColor"></path>
</svg>
	</a>

	<a href="https://www.mux.com/?utm_campaign=21819274-Astro&utm_source=astro" aria-label="Mux" class="astro-kwmzlgva">
		<svg viewBox="0 0 77 24" height="15" fill="currentColor" aria-hidden="true" class="astro-kwmzlgva">
	<path d="M47.73 0a2.98 2.98 0 0 0-2.97 3v9c0 3.31-2.67 6-5.94 6a5.97 5.97 0 0 1-5.94-6V3c0-1.66-1.33-3-2.97-3a2.98 2.98 0 0 0-2.97 3v9c0 6.62 5.33 12 11.88 12 6.55 0 11.88-5.38 11.88-12V3c.01-1.66-1.32-3-2.97-3zm13.19 12-6.81 6.88a3.02 3.02 0 0 0 0 4.24 2.95 2.95 0 0 0 4.2 0l6.81-6.88 6.81 6.88a2.95 2.95 0 0 0 4.2 0 3.02 3.02 0 0 0 0-4.24L69.32 12l6.81-6.88a3.02 3.02 0 0 0 0-4.24 2.95 2.95 0 0 0-4.2 0l-6.81 6.88L58.3.88a2.95 2.95 0 0 0-4.2 0 3.02 3.02 0 0 0 0 4.24L60.92 12zM21.93.23a2.96 2.96 0 0 0-3.24.65l-6.81 6.88L5.07.88A2.94 2.94 0 0 0 1.83.23 3 3 0 0 0 0 3v18c0 1.66 1.33 3 2.97 3s2.97-1.34 2.97-3V10.24l3.84 3.88a2.95 2.95 0 0 0 4.2 0l3.84-3.88V21c0 1.66 1.33 3 2.97 3s2.97-1.34 2.97-3V3A2.98 2.98 0 0 0 21.93.23z"></path>
</svg>
	</a>
</div>
</div>
					</div>
				</div>
			</nav>
	<div class="main-frame astro-34ku3w3v">
			
			<script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script>
			<div class="lg:sl-flex astro-il45mser">
	<aside class="right-sidebar-container print:hidden astro-il45mser">
				<div class="right-sidebar astro-il45mser">
					
			<div class="lg:sl-hidden astro-evux67hy">
				<mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-yitqccco">
			<nav aria-labelledby="starlight__on-this-page--mobile" class="astro-yitqccco">
				<details id="starlight__mobile-toc" class="astro-yitqccco">
					<summary id="starlight__on-this-page--mobile" class="sl-flex astro-yitqccco">
						<div class="toggle sl-flex astro-yitqccco">
							本页内容
							
	<svg aria-hidden="true" class="caret astro-yitqccco astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>



						</div>
						<span class="display-current astro-yitqccco"></span>
					</summary>
					<div class="dropdown astro-yitqccco">
						<ul class="isMobile astro-oitnbpw7" style="--depth: 0;">
	<li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#_top" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">概述</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#升级-astro" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">升级 Astro</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#astro-v30-实验性标志已移除" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">Astro v3.0 实验性标志已移除</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#astro-v30-破坏性更改" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">Astro v3.0 破坏性更改</span>
				</a>
				<ul class="isMobile astro-oitnbpw7" style="--depth: 1;">
	<li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除对-node-16-的支持" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：对 Node 16 的支持</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除对-typescript-4-的支持" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：对 TypeScript 4 的支持</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除astrojsimage" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：@astrojs/image</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除markdown--组件" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：&lt;Markdown /&gt; 组件</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除已废弃的-1x-api" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：已废弃的 1.x API</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除服务器代码中-web-api-的不完整垫片shim" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：服务器代码中 Web API 的不完整垫片（shim）</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除内容集合-schema-中来自-astrocontent-的-image" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：内容集合 schema 中来自 astro:content 的 image</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除pre-014-shiki-主题名称" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：pre-0.14 Shiki 主题名称</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除classlist-功能" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：class:list 功能</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除将-classlist-作为-prop-传递" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：将 class:list 作为 prop 传递</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除对于-camelcase-css-变量的-kebab-case-转换" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：对于 camelCase CSS 变量的 kebab-case 转换</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除自动展平-getstaticpaths-的返回值" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：自动展平 getStaticPaths() 的返回值</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移动astro-check-现在需要一个外部包" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移动：astro check 现在需要一个外部包</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#废弃buildexcludemiddleware-和-buildsplit" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">废弃：build.excludeMiddleware 和 build.split</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#废弃markdowndrafts" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">废弃：markdown.drafts</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#废弃在端点endpoints中返回简单对象" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">废弃：在端点（endpoints）中返回简单对象</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变tsconfigjson-预设里的-verbatimmodulesyntax" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：tsconfig.json 预设里的 verbatimModuleSyntax</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变端口-3000" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：端口 3000</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变importmetaenvbase_url-trailingslash" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：import.meta.env.BASE_URL trailingSlash</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变compresshtml" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：compressHTML</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变scopedstylestrategy" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：scopedStyleStrategy</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变inlinestylesheets" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：inlineStyleSheets</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变图像服务" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：图像服务</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#修改http-请求方法案例" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">修改：HTTP 请求方法案例</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#修改多个-jsx-框架配置" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">修改：多个 JSX 框架配置</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#修改astrocookiesgetkey-可以返回-undefined" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">修改：Astro.cookies.get(key) 可以返回 undefined</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#修改以编程方式运行-astro-cli" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">修改：以编程方式运行 Astro CLI</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#修改内部-astro-api-入口文件导出路径" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">修改：内部 Astro API 入口文件导出路径</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#功能升级" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">功能升级</span>
				</a>
				<ul class="isMobile astro-oitnbpw7" style="--depth: 1;">
	<li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#升级图像到-v3" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">升级图像到 v3</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#升级视图过渡动画到-v3" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">升级视图过渡动画到 v3</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#社区资源" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">社区资源</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#已知问题" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">已知问题</span>
				</a>
				
			</li>
</ul>
					</div>
				</details>
			</nav>
		</mobile-starlight-toc>



<script type="module" src="/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.B6c2wewi.js"></script>
			</div>
			<div class="right-sidebar-panel sl-hidden lg:sl-block astro-evux67hy">
				<div class="sl-container astro-evux67hy">
					<starlight-toc data-min-h="2" data-max-h="3">
			<nav aria-labelledby="starlight__on-this-page">
				<h2 id="starlight__on-this-page">
					本页内容
				</h2>
				<ul class="astro-oitnbpw7" style="--depth: 0;">
	<li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#_top" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">概述</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#升级-astro" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">升级 Astro</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#astro-v30-实验性标志已移除" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">Astro v3.0 实验性标志已移除</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#astro-v30-破坏性更改" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">Astro v3.0 破坏性更改</span>
				</a>
				<ul class="astro-oitnbpw7" style="--depth: 1;">
	<li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除对-node-16-的支持" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：对 Node 16 的支持</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除对-typescript-4-的支持" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：对 TypeScript 4 的支持</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除astrojsimage" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：@astrojs/image</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除markdown--组件" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：&lt;Markdown /&gt; 组件</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除已废弃的-1x-api" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：已废弃的 1.x API</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除服务器代码中-web-api-的不完整垫片shim" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：服务器代码中 Web API 的不完整垫片（shim）</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除内容集合-schema-中来自-astrocontent-的-image" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：内容集合 schema 中来自 astro:content 的 image</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除pre-014-shiki-主题名称" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：pre-0.14 Shiki 主题名称</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除classlist-功能" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：class:list 功能</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除将-classlist-作为-prop-传递" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：将 class:list 作为 prop 传递</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除对于-camelcase-css-变量的-kebab-case-转换" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：对于 camelCase CSS 变量的 kebab-case 转换</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移除自动展平-getstaticpaths-的返回值" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移除：自动展平 getStaticPaths() 的返回值</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#移动astro-check-现在需要一个外部包" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">移动：astro check 现在需要一个外部包</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#废弃buildexcludemiddleware-和-buildsplit" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">废弃：build.excludeMiddleware 和 build.split</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#废弃markdowndrafts" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">废弃：markdown.drafts</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#废弃在端点endpoints中返回简单对象" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">废弃：在端点（endpoints）中返回简单对象</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变tsconfigjson-预设里的-verbatimmodulesyntax" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：tsconfig.json 预设里的 verbatimModuleSyntax</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变端口-3000" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：端口 3000</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变importmetaenvbase_url-trailingslash" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：import.meta.env.BASE_URL trailingSlash</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变compresshtml" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：compressHTML</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变scopedstylestrategy" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：scopedStyleStrategy</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变inlinestylesheets" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：inlineStyleSheets</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#默认值改变图像服务" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">默认值改变：图像服务</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#修改http-请求方法案例" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">修改：HTTP 请求方法案例</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#修改多个-jsx-框架配置" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">修改：多个 JSX 框架配置</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#修改astrocookiesgetkey-可以返回-undefined" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">修改：Astro.cookies.get(key) 可以返回 undefined</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#修改以编程方式运行-astro-cli" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">修改：以编程方式运行 Astro CLI</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#修改内部-astro-api-入口文件导出路径" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">修改：内部 Astro API 入口文件导出路径</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#功能升级" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">功能升级</span>
				</a>
				<ul class="astro-oitnbpw7" style="--depth: 1;">
	<li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#升级图像到-v3" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">升级图像到 v3</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 1;">
				<a href="#升级视图过渡动画到-v3" class="astro-oitnbpw7" style="--depth: 1;">
					<span class="astro-oitnbpw7" style="--depth: 1;">升级视图过渡动画到 v3</span>
				</a>
				
			</li>
</ul>
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#社区资源" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">社区资源</span>
				</a>
				
			</li><li class="astro-oitnbpw7" style="--depth: 0;">
				<a href="#已知问题" class="astro-oitnbpw7" style="--depth: 0;">
					<span class="astro-oitnbpw7" style="--depth: 0;">已知问题</span>
				</a>
				
			</li>
</ul>
			</nav>
		</starlight-toc>

<script type="module" src="/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script>
				</div>
				<div class="sl-container astro-evux67hy">
					<div class="container astro-zwxhm4ix" lang="en" dir="ltr" data-algolia-exclude>
	<aside aria-labelledby="learn-astro-course-2" class="astro-zwxhm4ix">
		<div class="graphics astro-zwxhm4ix">
			
<img src="/_astro/Scrimba.ByZ1pAIN_1PqoUV.webp" alt="Scrimba" loading="lazy" decoding="async" fetchpriority="auto" width="72" height="72" class="scrimba-bubble astro-zwxhm4ix">
			
<img src="/_astro/JamesQuick.BYVczE5K_Z27c5s6.webp" alt loading="lazy" decoding="async" fetchpriority="auto" width="72" height="72" class="astro-zwxhm4ix">
		</div>
		<h2 id="learn-astro-course-2" class="astro-zwxhm4ix">
			<strong class="astro-zwxhm4ix">Learn Astro</strong> with James Q Quick
		</h2>
		<p class="astro-zwxhm4ix">Build your first site with 35 interactive Scrimba lessons</p>
		<a class="sl-link-button not-content primary cta astro-zwxhm4ix astro-n3qr5j5k" href="https://scrimba.com/intro-to-astro-c00ar0fi5u?via=astro" data-scrimba-cta="true">
	
	Get 20% off
	
</a>
	</aside>
</div>


				</div>
			</div>
		


				</div>
			</aside>
	<div class="main-pane astro-il45mser">
				
				<main data-pagefind-body class="astro-4g3gq6ui" lang="zh-CN" dir="ltr">
					
					


					
								<div class="content-panel astro-2mug3n2c">
	<div class="sl-container astro-2mug3n2c">
									<h1 id="_top" class="astro-62i6xxx4">升级到 Astro v3</h1>


									</div>
</div>
								<div class="content-panel astro-2mug3n2c">
	<div class="sl-container astro-2mug3n2c">
									<div class="sl-markdown-content">
	
										<p>本指南将帮助你从 Astro v2 迁移到 Astro v3。</p>
<p>需要将旧项目升级到 v2 吗？请参阅我们的 <a href="/zh-cn/guides/upgrade-to/v2/">旧版本迁移指南</a>。</p>
<div class="sl-heading-wrapper level-h2"><h2 id="升级-astro">升级 Astro</h2><a class="sl-anchor-link" href="#升级-astro"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “升级 Astro”</span></a></div>
<p>使用你的包管理器将项目的 Astro 版本更新到最新版本。如果你正在使用 Astro 集成，请同时将其更新到最新版本。</p>

<script>
(() => {
	class StarlightTabsRestore extends HTMLElement {
		connectedCallback() {
			const starlightTabs = this.closest('starlight-tabs');
			if (!(starlightTabs instanceof HTMLElement) || typeof localStorage === 'undefined') return;
			const syncKey = starlightTabs.dataset.syncKey;
			if (!syncKey) return;
			const label = localStorage.getItem(`starlight-synced-tabs__${syncKey}`);
			if (!label) return;
			const tabs = [...starlightTabs?.querySelectorAll('[role="tab"]')];
			const tabIndexToRestore = tabs.findIndex(
				(tab) => tab instanceof HTMLAnchorElement && tab.textContent?.trim() === label
			);
			const panels = starlightTabs?.querySelectorAll(':scope > [role="tabpanel"]');
			const newTab = tabs[tabIndexToRestore];
			const newPanel = panels[tabIndexToRestore];
			if (tabIndexToRestore < 1 || !newTab || !newPanel) return;
			tabs[0]?.setAttribute('aria-selected', 'false');
			tabs[0]?.setAttribute('tabindex', '-1');
			panels?.[0]?.setAttribute('hidden', 'true');
			newTab.removeAttribute('tabindex');
			newTab.setAttribute('aria-selected', 'true');
			newPanel.removeAttribute('hidden');
		}
	}
	customElements.define('starlight-tabs-restore', StarlightTabsRestore);
})()
</script>

<starlight-tabs data-sync-key="package-managers" class="astro-xtbw65nk">
	<div class="tablist-wrapper not-content astro-xtbw65nk">
				<ul role="tablist" class="astro-xtbw65nk">
					<li role="presentation" class="tab astro-xtbw65nk">
							<a role="tab" href="#tab-panel-11602" id="tab-11602" aria-selected="true" tabindex="0" class="astro-xtbw65nk">
								
								npm
							</a>
						</li><li role="presentation" class="tab astro-xtbw65nk">
							<a role="tab" href="#tab-panel-11603" id="tab-11603" aria-selected="false" tabindex="-1" class="astro-xtbw65nk">
								
								pnpm
							</a>
						</li><li role="presentation" class="tab astro-xtbw65nk">
							<a role="tab" href="#tab-panel-11604" id="tab-11604" aria-selected="false" tabindex="-1" class="astro-xtbw65nk">
								
								Yarn
							</a>
						</li>
				</ul>
			</div>
	
	<div id="tab-panel-11602" aria-labelledby="tab-11602" role="tabpanel">
	
		<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.rvnnt.css"><script type="module" src="/_astro/ec.p1z7b.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">终端窗口</span></figcaption><pre data-language="shell"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 升级到 Astro v3.x</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">install</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">astro@latest</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 示例：升级 React 和 Tailwind 集成</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">install</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@astrojs/react@latest</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@astrojs/tailwind@latest</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="npm install astro@latestnpm install @astrojs/react@latest @astrojs/tailwind@latest"><div></div></button></div></figure></div>
	
</div>
	<div id="tab-panel-11603" aria-labelledby="tab-11603" role="tabpanel" hidden>
	
		<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">终端窗口</span></figcaption><pre data-language="shell"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 升级到 Astro v3.x</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">pnpm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">add</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">astro@latest</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 示例：升级 React 和 Tailwind 集成</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">pnpm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">add</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@astrojs/react@latest</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@astrojs/tailwind@latest</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="pnpm add astro@latestpnpm add @astrojs/react@latest @astrojs/tailwind@latest"><div></div></button></div></figure></div>
	
</div>
	<div id="tab-panel-11604" aria-labelledby="tab-11604" role="tabpanel" hidden>
	
		<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">终端窗口</span></figcaption><pre data-language="shell"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 升级到 Astro v3.x</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">yarn</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">add</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">astro@latest</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 示例：升级 React 和 Tailwind 集成</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">yarn</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">add</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@astrojs/react@latest</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@astrojs/tailwind@latest</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="yarn add astro@latestyarn add @astrojs/react@latest @astrojs/tailwind@latest"><div></div></button></div></figure></div>
	
</div>

	<starlight-tabs-restore class="astro-xtbw65nk"></starlight-tabs-restore>
</starlight-tabs>



<script type="module">class r extends HTMLElement{static#e=new Map;#t;#n="starlight-synced-tabs__";constructor(){super();const t=this.querySelector('[role="tablist"]');if(this.tabs=[...t.querySelectorAll('[role="tab"]')],this.panels=[...this.querySelectorAll(':scope > [role="tabpanel"]')],this.#t=this.dataset.syncKey,this.#t){const i=r.#e.get(this.#t)??[];i.push(this),r.#e.set(this.#t,i)}this.tabs.forEach((i,c)=>{i.addEventListener("click",e=>{e.preventDefault();const n=t.querySelector('[aria-selected="true"]');e.currentTarget!==n&&this.switchTab(e.currentTarget,c)}),i.addEventListener("keydown",e=>{const n=this.tabs.indexOf(e.currentTarget),s=e.key==="ArrowLeft"?n-1:e.key==="ArrowRight"?n+1:e.key==="Home"?0:e.key==="End"?this.tabs.length-1:null;s!==null&&this.tabs[s]&&(e.preventDefault(),this.switchTab(this.tabs[s],s))})})}switchTab(t,i,c=!0){if(!t)return;const e=c?this.getBoundingClientRect().top:0;this.tabs.forEach(s=>{s.setAttribute("aria-selected","false"),s.setAttribute("tabindex","-1")}),this.panels.forEach(s=>{s.hidden=!0});const n=this.panels[i];n&&(n.hidden=!1),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),c&&(t.focus(),r.#r(this,t),window.scrollTo({top:window.scrollY+(this.getBoundingClientRect().top-e),behavior:"instant"}))}#i(t){!this.#t||typeof localStorage>"u"||localStorage.setItem(this.#n+this.#t,t)}static#r(t,i){const c=t.#t,e=r.#s(i);if(!c||!e)return;const n=r.#e.get(c);if(n){for(const s of n){if(s===t)continue;const a=s.tabs.findIndex(o=>r.#s(o)===e);a!==-1&&s.switchTab(s.tabs[a],a,!1)}t.#i(e)}}static#s(t){return t.textContent?.trim()}}customElements.define("starlight-tabs",r);</script>
<aside aria-label="需要继续吗？" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>需要继续吗？</p><div class="starlight-aside__content"><p>升级 Astro 到最新版本后，你可能不需要对你的项目做任何更改！</p><p>但是，如果你注意到错误或意外的行为，请检查下面的内容，看看有什么变化可能需要在你的项目中更新。</p></div></aside>
<div class="sl-heading-wrapper level-h2"><h2 id="astro-v30-实验性标志已移除">Astro v3.0 实验性标志已移除</h2><a class="sl-anchor-link" href="#astro-v30-实验性标志已移除"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Astro v3.0 实验性标志已移除”</span></a></div>
<p>从 <code dir="auto">astro.config.mjs</code> 中移除以下实验性标志：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">experimental: {</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">assets: </span><span style="--0:#ff96a8;--1:#7a3636">true</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">viewTransitions: </span><span style="--0:#ff96a8;--1:#7a3636">true</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">})</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x27;astro/config&#x27;;export default defineConfig({  experimental: {    assets: true,    viewTransitions: true,  },})"><div></div></button></div></figure></div>
<p>这些特性现在默认可用：</p>
<ul>
<li>视图过渡动画用于动画页面过渡和持久化组件。如果你使用此实验性标志，请查看 <a href="#%E5%8D%87%E7%BA%A7%E8%A7%86%E5%9B%BE%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB%E5%88%B0-v3">视图过渡动画 API 重大更改及升级建议</a>。</li>
<li>新的图像服务 API <code dir="auto">astro:assets</code> 用于在 Astro 中使用图像，包括新的 <code dir="auto">&#x3C;Image /></code> 组件和 <code dir="auto">getImage()</code> 函数。<strong>无论你是否使用此实验性标志</strong>，请阅读详细的 <a href="#%E5%8D%87%E7%BA%A7%E5%9B%BE%E5%83%8F%E5%88%B0-v3">图像升级建议</a> ，以了解这可能如何影响你的项目。</li>
</ul>
<p>在 <a href="https://astro.build/blog/astro-3/">3.0 博客文章</a> 阅读更多关于这两个令人兴奋的功能和更多其他内容！</p>
<div class="sl-heading-wrapper level-h2"><h2 id="astro-v30-破坏性更改">Astro v3.0 破坏性更改</h2><a class="sl-anchor-link" href="#astro-v30-破坏性更改"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Astro v3.0 破坏性更改”</span></a></div>
<p>Astro v3.0 包含了一些破坏性更改，以及一些之前已经弃用的功能的移除。如果你的项目在升级到 v3.0 后无法正常工作，请查看本指南，了解所有破坏性更改的概述以及如何更新你的代码库的说明。</p>
<p>请查看 <a href="https://github.com/withastro/astro/blob/main/packages/astro/CHANGELOG.md">更新日志</a> 以获取完整的发布说明。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="移除对-node-16-的支持">移除：对 Node 16 的支持</h3><a class="sl-anchor-link" href="#移除对-node-16-的支持"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：对 Node 16 的支持”</span></a></div>
<p>Node 16 计划在 2023 年 9 月达到其生命周期终点。</p>
<p>Astro v3.0 完全放弃对 Node 16 的支持，以便所有 Astro 用户都能利用 Node 的更现代化的功能。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>检查你的开发环境和部署环境是否都使用<strong>Node <code dir="auto">18.14.1</code> 或更高版本</strong>。</p>
<ol role="list" class="sl-steps">
<li>
<p>使用以下命令检查 Node 本地版本：</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">终端窗口</span></figcaption><pre data-language="sh"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">node</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-v</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="node -v"><div></div></button></div></figure></div>
</li>
<li>
<p>查看你的 <a href="/zh-cn/guides/deploy/">部署环境</a> 的文档，以确认它们是否支持 Node 18。</p>
<p>你可以在仪表板配置设置或 <code dir="auto">.nvmrc</code> 文件中为你的 Astro 项目指定 <code dir="auto">Node 18.14.1</code>。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">.nvmrc</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">18.14.1</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="18.14.1"><div></div></button></div></figure></div>
</li>
</ol>


<div class="sl-heading-wrapper level-h3"><h3 id="移除对-typescript-4-的支持">移除：对 TypeScript 4 的支持</h3><a class="sl-anchor-link" href="#移除对-typescript-4-的支持"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：对 TypeScript 4 的支持”</span></a></div>
<p>在 Astro v2.x 中，<code dir="auto">tsconfig.json</code> 预设包含对 TypeScript 4.x 和 5.x 的支持。</p>
<p>Astro v3.0 更新了 <code dir="auto">tsconfig.json</code> 预设，只支持 TypeScript 5.x。Astro 现在假设你使用 TypeScript 5.0（2023 年 3 月），或者你的编辑器包含它（例如 VS Code 1.77）。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-1">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>如果你本地安装了 TypeScript，请更新到至少 v5.0。</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">终端窗口</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">install</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">typescript@latest</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--save-dev</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="npm install typescript@latest --save-dev"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="移除astrojsimage">移除：<code dir="auto">@astrojs/image</code></h3><a class="sl-anchor-link" href="#移除astrojsimage"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：@astrojs/image”</span></a></div>
<p>在 Astro v2.x 中，Astro 提供了一个官方的图像集成，其中包括 Astro <code dir="auto">&#x3C;Image /></code> 和 <code dir="auto">&#x3C;Picture /></code> 组件。</p>
<p>Astro v3.0 完全从代码库中删除了这个集成。Astro 图像的新解决方案是内置的图像服务 API：<code dir="auto">astro:assets</code>。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-2">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-2"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>移除 <code dir="auto">@astrojs/image</code> 集成。你不仅需要卸载集成，还需要更新或删除任何导入语句和现有的 <code dir="auto">&#x3C;Image /></code> 和 <code dir="auto">&#x3C;Picture /></code> 组件。你可能还需要配置一个首选的默认图像处理服务。</p>
<p>你可以在我们的图像指南中找到 <a href="#%E7%A7%BB%E9%99%A4-astrojsimage">完整的、逐步的删除旧图像集成的说明</a>。</p>
<p>迁移 <code dir="auto">astro:assets</code> 还将带来一些你现在可能希望使用的新的图像选项和功能。请参阅完整的 <a href="#%E5%8D%87%E7%BA%A7%E5%9B%BE%E5%83%8F%E5%88%B0-v3">v3.0 图像升级建议</a> 了解完整的详情！</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">import</span><span style="--0:#D6DEEB;--1:#403F53"> image </span><span style="--0:#d0a3ed;--1:#663383">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">@astrojs/image</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">integrations: [</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">    </span><span style="--0:#91b4ff;--1:#2c4984">image</span><span style="--0:#D6DEEB;--1:#403F53">(),</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">})</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x27;astro/config&#x27;;import image from &#x27;@astrojs/image&#x27;;export default defineConfig({  integrations: [    image(),  ]})"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="移除markdown--组件">移除：<code dir="auto">&#x3C;Markdown /></code> 组件</h3><a class="sl-anchor-link" href="#移除markdown--组件"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：&#x3C;Markdown /> 组件”</span></a></div>
<p>在 Astro v1.x 中，Astro 废弃了 <code dir="auto">&#x3C;Markdown /></code> 组件，并将其移动到了一个外部包中。</p>
<p>Astro v3.0 完全删除了 <code dir="auto">@astrojs/markdown-component</code> 包。Astro 的 <code dir="auto">&#x3C;Markdown /></code> 组件将不再在你的项目中工作。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-3">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-3"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>移除所有的 <code dir="auto">@astrojs/markdown-component</code> 实例。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyAstroComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">import</span><span style="--0:#D6DEEB;--1:#403F53"> Markdown </span><span style="--0:#d0a3ed;--1:#663383">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">@astrojs/markdown-component</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="---import Markdown from &#x27;@astrojs/markdown-component&#x27;;---"><div></div></button></div></figure></div>
<p>要继续在你的代码中使用类似的 <code dir="auto">&#x3C;Markdown /></code> 组件，请考虑使用 <a href="https://astro.build/integrations/">社区集成</a>，例如 <a href="https://github.com/natemoo-re/astro-remote"><code dir="auto">astro-remote</code></a>。请根据集成的文档更新你的 <code dir="auto">&#x3C;Markdown /></code> 组件导入和属性。</p>
<p>否则，请删除所有对导入 Astro 的 <code dir="auto">&#x3C;Markdown /></code> 组件及其本身的引用。你需要直接将你的内容重写为 HTML，或者从 <code dir="auto">.md</code> 文件中<a href="/zh-cn/guides/markdown-content/#%E5%AF%BC%E5%85%A5-markdown">导入 Markdown</a>。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="移除已废弃的-1x-api">移除：已废弃的 1.x API</h3><a class="sl-anchor-link" href="#移除已废弃的-1x-api"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：已废弃的 1.x API”</span></a></div>
<p>在 Astro v1.x 中，Astro 废弃了对最初的配置选项以及 <code dir="auto">&#x3C;style global></code> 和 <code dir="auto">&#x3C;script hoist></code> 的支持。但为了向后兼容，它们依旧可用。</p>
<p>Astro v3.0 完全删除了这些已弃用的 API。你应该使用正式被支持的<a href="/zh-cn/reference/configuration-reference/">配置选项</a>以及现代的 <code dir="auto">&#x3C;style is:global></code> 和 <code dir="auto">&#x3C;script></code>。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-4">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-4"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>如果你正在继续使用 v1.x API，请改用每个功能的新 API：</p>
<ul>
<li>废弃的配置选项：请参阅 <a href="/zh-cn/guides/upgrade-to/v1/#new-configuration-api">0.26 迁移指南 (EN)</a></li>
<li>废弃的脚本/样式类型：请参阅 <a href="/zh-cn/guides/upgrade-to/v1/#new-default-script-behavior">0.26 迁移指南 (EN)</a></li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="移除服务器代码中-web-api-的不完整垫片shim">移除：服务器代码中 Web API 的不完整垫片（shim）</h3><a class="sl-anchor-link" href="#移除服务器代码中-web-api-的不完整垫片shim"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：服务器代码中 Web API 的不完整垫片（shim）”</span></a></div>
<p>在 Astro v2.x 中，Astro 在服务器渲染代码中提供了例如像 <code dir="auto">document</code> 或 <code dir="auto">localStorage</code> 这样的 Web APIs 的不完整垫片（shim，类似 polyfill）。这些垫片经常实现不完整并且不可靠。</p>
<p>Astro v3.0 完全移除了这些不完整的垫片。Web APIs 不再在服务器渲染代码中可用。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-5">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-5"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>如果你在服务器渲染的组件中使用 Web API，你需要把使用了的地方改成根据运行平台选择性调用或使用 <a href="/zh-cn/reference/directives-reference/#clientonly"><code dir="auto">client:only</code> 客户端指令</a>.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="移除内容集合-schema-中来自-astrocontent-的-image">移除：内容集合 schema 中来自 <code dir="auto">astro:content</code> 的 <code dir="auto">image</code></h3><a class="sl-anchor-link" href="#移除内容集合-schema-中来自-astrocontent-的-image"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：内容集合 schema 中来自 astro:content 的 image”</span></a></div>
<p>在 Astro v2.x 中，内容集合 API 废弃了来自 <code dir="auto">astro:content</code> 的 <code dir="auto">image</code> 导出，用于在你的内容集合 schema 中使用。</p>
<p>Astro v3.0 完全删除了这个导出。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-6">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-6"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>如果你正在使用 <code dir="auto">astro:content</code> 中废弃的 <code dir="auto">image()</code>，请删除它，因为它已经不存在了。请通过 <a href="#%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9%E9%9B%86%E5%90%88%E7%BB%93%E6%9E%84">来自 <code dir="auto">schema</code> 的 <code dir="auto">image</code> 帮助程序</a> 来验证图像。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/content/config.ts</span></figcaption><pre data-language="ts"><code><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineCollection, z, image } </span><span style="--0:#d0a3ed;--1:#663383">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">astro:content</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#d2a6ee;--1:#6a3588">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineCollection, z } </span><span style="--0:#d2a6ee;--1:#6a3588">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">astro:content</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">defineCollection</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">schema</span><span style="--0:#D6DEEB;--1:#403F53">: </span><mark><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--1:#403F53"><span style="--0:#D6DEEB">{ </span><span style="--0:#D7DBE0">image</span><span style="--0:#D6DEEB"> }</span></span><span style="--0:#D9F5DD;--1:#111111">)</span></mark><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">z</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">object</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">image: </span><span style="--0:#82AAFF;--1:#3B61B0">image</span><span style="--0:#D6DEEB;--1:#403F53">(),</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">   </span></span><span style="--0:#D6DEEB;--1:#403F53">}),</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineCollection, z, image } from &#x22;astro:content&#x22;;import { defineCollection, z } from &#x22;astro:content&#x22;;defineCollection({  schema: ({ image }) =>    z.object({      image: image(),   }),});"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="移除pre-014-shiki-主题名称">移除：pre-0.14 Shiki 主题名称</h3><a class="sl-anchor-link" href="#移除pre-014-shiki-主题名称"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：pre-0.14 Shiki 主题名称”</span></a></div>
<p>在 Astro v2.x 中，一些 Shiki 主题名称已被重命名，但原始名称仍保留了向后兼容性。</p>
<p>Astro v3.0 删除了原始名称，而采用了重命名的主题名称。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-7">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-7"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>如果你的 Astro 项目使用了以下任何主题，请将它们重命名为更新后的名称：</p>
<ul>
<li><code dir="auto">material-darker</code> -> <code dir="auto">material-theme-darker</code></li>
<li><code dir="auto">material-default</code> -> <code dir="auto">material-theme</code></li>
<li><code dir="auto">material-lighter</code> -> <code dir="auto">material-theme-lighter</code></li>
<li><code dir="auto">material-ocean</code> -> <code dir="auto">material-theme-ocean</code></li>
<li><code dir="auto">material-palenight</code> -> <code dir="auto">material-theme-palenight</code></li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="移除classlist-功能">移除：<code dir="auto">class:list</code> 功能</h3><a class="sl-anchor-link" href="#移除classlist-功能"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：class:list 功能”</span></a></div>
<p>在 Astro v2.x 中，<a href="/zh-cn/reference/directives-reference/#classlist"><code dir="auto">class:list</code> 指令</a> 使用了一个受 <a href="https://github.com/lukeed/clsx"><code dir="auto">clsx</code></a> 启发的自定义实现，其中包含一些额外的功能，如去重和 <code dir="auto">Set</code> 支持。</p>
<p>Astro v3.0 现在直接使用 <code dir="auto">clsx</code> 来处理 <code dir="auto">class:list</code>，它不支持去重和 <code dir="auto">Set</code> 值。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-8">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-8"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>将传递给 <code dir="auto">class:list</code> 指令的任何 <code dir="auto">Set</code> 元素替换为普通数组。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyAstroComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#8844AE">&#x3C;</span><span style="--0:#C5E478;--1:#3B61B0">Component</span><span style="--0:#7FDBCA;--1:#8844AE"> </span><span style="--0:#C5E478;--1:#3B61B0">class:list</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#E2817F;--1:#B23834">{</span><span style="--0:#D6DEEB;--1:#403F53">[</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">a</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">b</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#075356">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#91b4ff;--1:#2c4984">Set</span><span style="--0:#D6DEEB;--1:#403F53">([</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">c</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">d</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">])</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">[</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">c</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">d</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">]</span><span style="--0:#E2817F;--1:#B23834">}</span><span style="--0:#7FDBCA;--1:#8844AE"> /></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="<Component class:list={[  &#x27;a&#x27;,  &#x27;b&#x27;,  new Set([&#x27;c&#x27;, &#x27;d&#x27;])  [&#x27;c&#x27;, &#x27;d&#x27;]]} />"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="移除将-classlist-作为-prop-传递">移除：将 <code dir="auto">class:list</code> 作为 prop 传递</h3><a class="sl-anchor-link" href="#移除将-classlist-作为-prop-传递"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：将 class:list 作为 prop 传递”</span></a></div>
<p>在 Astro v2.x 中，<a href="/zh-cn/reference/directives-reference/#classlist"><code dir="auto">class:list</code> 的值</a> 通过 <a href="/zh-cn/reference/api-reference/#props"><code dir="auto">Astro.props['class:list']</code></a> 传递给组件。</p>
<p>Astro v3.0 将 <code dir="auto">class:list</code> 的值标准化为字符串，然后通过 <code dir="auto">Astro.props['class']</code> 发送给组件。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-9">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-9"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>移除任何期望接收 <code dir="auto">class:list</code> prop 的代码。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyAstroComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">import</span><span style="--0:#D6DEEB;--1:#403F53"> { clsx } </span><span style="--0:#d0a3ed;--1:#663383">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">clsx</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">const { </span><span style="--0:#D6DEEB;--1:#403F53">class</span><span style="--0:#d0a3ed;--1:#663383">: </span><span style="--0:#91b4ff;--1:#2c4984">className</span><span style="--0:#d0a3ed;--1:#663383">, </span><mark><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#edc792;--1:#5a2e2e">class:list</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#e0c2f3;--1:#53296a">: </span><span style="--0:#b5cdff;--1:#233a69">classList</span></mark><span style="--0:#d0a3ed;--1:#663383"> } = </span><span style="--0:#D6DEEB;--1:#403F53">Astro</span><span style="--0:#d0a3ed;--1:#663383">.</span><span style="--0:#7FDBCA;--1:#075356">props</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#d2a6ee;--1:#6a3588">const { </span><span style="--0:#D6DEEB;--1:#403F53">class</span><span style="--0:#d2a6ee;--1:#6a3588">: </span><span style="--0:#94b6ff;--1:#2d4a87">className</span><span style="--0:#d2a6ee;--1:#6a3588"> } = </span><span style="--0:#D6DEEB;--1:#403F53">Astro</span><span style="--0:#d2a6ee;--1:#6a3588">.</span><span style="--0:#7FDBCA;--1:#075457">props</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">div</span></span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">  </span><span style="--0:#C5E478;--1:#2c4984">class:list</span><span style="--0:#7FDBCA;--1:#663383">=</span><span style="--0:#eaa2a1;--1:#862a27">{</span><span style="--0:#D6DEEB;--1:#403F53">[className, </span><mark><span style="--0:#D6DEEB;--1:#3c3b4e">classList</span></mark><span style="--0:#D6DEEB;--1:#403F53">]</span><span style="--0:#eaa2a1;--1:#862a27">}</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#C5E478;--1:#2d4a87">class:list</span><span style="--0:#7FDBCA;--1:#6a3588">=</span><span style="--0:#eaa5a4;--1:#882b28">{</span><span style="--0:#D6DEEB;--1:#403F53">[className]</span><span style="--0:#eaa5a4;--1:#882b28">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#8844AE">/></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="---import { clsx } from &#x27;clsx&#x27;;const { class: className, &#x27;class:list&#x27;: classList } = Astro.props;const { class: className } = Astro.props;---<div  class:list={[className, classList]}  class:list={[className]}/>"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="移除对于-camelcase-css-变量的-kebab-case-转换">移除：对于 camelCase CSS 变量的 kebab-case 转换</h3><a class="sl-anchor-link" href="#移除对于-camelcase-css-变量的-kebab-case-转换"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：对于 camelCase CSS 变量的 kebab-case 转换”</span></a></div>
<p>在 Astro v2.x 中，传递给 <code dir="auto">style</code> 属性的 camelCase <a href="/zh-cn/guides/styling/#css-%E5%8F%98%E9%87%8F">CSS 变量</a> 会被渲染为 camelCase（如写入的那样）和 kebab-case（保留向后兼容性）。</p>
<p>Astro v3.0 移除了这些 camelCase CSS 变量名称的 kebab-case 转换，只有原始的 camelCase CSS 变量被渲染。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyAstroComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">myValue</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">red</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">&#x3C;!-- 输入 --></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3B61B0">style</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#E2817F;--1:#B23834">{</span><span style="--0:#7FDBCA;--1:#8844AE">{ </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">--myValue</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8844AE">: </span><span style="--0:#D6DEEB;--1:#403F53">myValue</span><span style="--0:#7FDBCA;--1:#8844AE"> }</span><span style="--0:#E2817F;--1:#B23834">}</span><span style="--1:#8844AE"><span style="--0:#7FDBCA">>&#x3C;/</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">&#x3C;!-- 输出 (Astro 2.x) --></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3B61B0">style</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">--</span><mark><span style="--0:#ECC48D;--1:#804241">my-value</span></mark><span style="--0:#ECC48D;--1:#984E4D">:var(--myValue);--myValue:red</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#8844AE"><span style="--0:#7FDBCA">>&#x3C;/</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">&#x3C;!-- 输出 (Astro 3.0) --></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3B61B0">style</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">--myValue:red</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#8844AE"><span style="--0:#7FDBCA">>&#x3C;/</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA">></span></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="---const myValue = &#x22;red&#x22;---<!-- 输入 --><div style={{ &#x22;--myValue&#x22;: myValue }}></div><!-- 输出 (Astro 2.x) --><div style=&#x22;--my-value:var(--myValue);--myValue:red&#x22;></div><!-- 输出 (Astro 3.0) --><div style=&#x22;--myValue:red&#x22;></div>"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-10">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-10"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>如果你依靠 Astro 来转换你的样式中的 kebab-case，请更新你现有的样式为 camelCase，以防止丢失样式。例如：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyAstroComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">style</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF6D6D;--1:#984E4D">div</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">   </span><span style="--0:#80CBC4;--1:#075356">color</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#2c4984">var</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#2c4984">--my-value</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">   </span><span style="--0:#80CBC4;--1:#075457">color</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#2d4a87">var</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#2d4a87">--myValue</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">style</span><span style="--0:#7FDBCA">></span></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="<style>  div {   color: var(--my-value);   color: var(--myValue);  }</style>"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="移除自动展平-getstaticpaths-的返回值">移除：自动展平 <code dir="auto">getStaticPaths()</code> 的返回值</h3><a class="sl-anchor-link" href="#移除自动展平-getstaticpaths-的返回值"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除：自动展平 getStaticPaths() 的返回值”</span></a></div>
<p>在 Astro v2.x 中，<a href="/zh-cn/reference/routing-reference/#getstaticpaths"><code dir="auto">getStaticPaths()</code></a> 的返回值会自动展平，以允许返回一个二维数组而不会出错。</p>
<p>Astro v3.0 移除了对 <code dir="auto">getStaticPaths()</code> 返回值的自动展平。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-11">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-11"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>如果你返回的是一个二维数组而不是一个（预期的）<em>一维对象数组</em>，则应该使用 <code dir="auto">.flatMap</code> 和 <code dir="auto">.flat</code> 来确保你返回的是展平的一维数组。</p>
<p>如果你需要更新代码，Astro 将抛出一个错误消息，指出 <code dir="auto">getStaticPath()</code> 的返回值必须是一个对象数组。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="移动astro-check-现在需要一个外部包">移动：<code dir="auto">astro check</code> 现在需要一个外部包</h3><a class="sl-anchor-link" href="#移动astro-check-现在需要一个外部包"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移动：astro check 现在需要一个外部包”</span></a></div>
<p>在 Astro v2.x 中，默认情况下包含了 <a href="/zh-cn/reference/cli-reference/#astro-check"><code dir="auto">astro check</code></a>，并且它的依赖项被打包在 Astro 中。这意味着无论你是否使用 <code dir="auto">astro check</code>，都会有一个更大的包。这也阻止你对 TypeScript 和 Astro 语言服务器的版本进行控制。</p>
<p>Astro v3.0 将 <code dir="auto">astro check</code> 命令从 Astro 核心中移出，并且现在需要一个外部包 <code dir="auto">@astrojs/check</code>。此外，你必须在你的项目中安装 <code dir="auto">typescript</code> 来使用 <code dir="auto">astro check</code> 命令。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-12">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-12"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>在升级 Astro v3.0 后运行 <code dir="auto">astro check</code> 命令，并按照提示安装所需的依赖项，或者手动将 <code dir="auto">@astrojs/check</code> 和 <code dir="auto">typescript</code> 安装到你的项目中。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="废弃buildexcludemiddleware-和-buildsplit">废弃：<code dir="auto">build.excludeMiddleware</code> 和 <code dir="auto">build.split</code></h3><a class="sl-anchor-link" href="#废弃buildexcludemiddleware-和-buildsplit"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “废弃：build.excludeMiddleware 和 build.split”</span></a></div>
<p>在 Astro v2.x 中，<code dir="auto">build.excludeMiddleware</code> 和 <code dir="auto">build.split</code> 用于在 SSR 模式下使用适配器时更改特定文件的产出方式。</p>
<p>Astro v3.0 用新的 <a href="/zh-cn/guides/integrations-guide/#%E5%AE%98%E6%96%B9%E9%9B%86%E6%88%90">SSR 适配器配置选项</a> 替换了这些构建配置选项，以执行相同的任务：<code dir="auto">edgeMiddleware</code> 和 <code dir="auto">functionPerRoute</code>。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-13">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-13"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>更新 Astro 配置文件，直接在适配器配置中使用新的选项。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> vercel </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">@astrojs/vercel/serverless</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">build: {</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">excludeMiddleware: </span><span style="--0:#ff96a8;--1:#7a3636">true</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">adapter: </span><span style="--0:#82AAFF;--1:#3B61B0">vercel</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">edgeMiddleware: </span><span style="--0:#ff99aa;--1:#7a3636">true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}),</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x22;astro/config&#x22;;import vercel from &#x22;@astrojs/vercel/serverless&#x22;;export default defineConfig({    build: {      excludeMiddleware: true    },    adapter: vercel({      edgeMiddleware: true    }),});"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> netlify </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">@astrojs/netlify/functions</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">     </span></span><span style="--0:#D6DEEB;--1:#403F53">build: {</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">split: </span><span style="--0:#ff96a8;--1:#7a3636">true</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">     </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">     </span></span><span style="--0:#D6DEEB;--1:#403F53">adapter: </span><span style="--0:#82AAFF;--1:#3B61B0">netlify</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">functionPerRoute: </span><span style="--0:#ff99aa;--1:#7a3636">true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">     </span></span><span style="--0:#D6DEEB;--1:#403F53">}),</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x22;astro/config&#x22;;import netlify from &#x22;@astrojs/netlify/functions&#x22;;export default defineConfig({     build: {        split: true     },     adapter: netlify({        functionPerRoute: true     }),});"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="废弃markdowndrafts">废弃：<code dir="auto">markdown.drafts</code></h3><a class="sl-anchor-link" href="#废弃markdowndrafts"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “废弃：markdown.drafts”</span></a></div>
<p>在 Astro v2.x 中，<code dir="auto">markdown.drafts</code> 配置允许你在运行开发服务器时拥有草稿页面，但在生产环境中不会构建。</p>
<p>Astro v3.0 废弃了这个功能，而是使用内容集合的方法来处理草稿页面，通过手动过滤来实现，这样可以更好地控制这个功能。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-14">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-14"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>为了继续将你项目中的某些页面标记为草稿，请 <a href="/zh-cn/guides/content-collections/">迁移到内容集合</a>，并使用 <code dir="auto">draft: true</code> frontmatter 属性手动过滤页面。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="废弃在端点endpoints中返回简单对象">废弃：在端点（endpoints）中返回简单对象</h3><a class="sl-anchor-link" href="#废弃在端点endpoints中返回简单对象"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “废弃：在端点（endpoints）中返回简单对象”</span></a></div>
<p>在 Astro v2.x 中，端点（endpoints）可以返回一个简单的对象，它会被转换为一个 JSON 响应。</p>
<p>Astro v3.0 废弃了这种行为，而是直接返回一个 <code dir="auto">Response</code> 对象。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-15">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-15"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>更新你的端点（endpoints），直接返回一个 <code dir="auto">Response</code> 对象。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">endpoint.json.ts</span></figcaption><pre data-language="ts"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">async</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">function</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">GET</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">  </span><span style="--0:#d0a3ed;--1:#663383">return</span><span style="--0:#D6DEEB;--1:#403F53"> { body: { </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">title</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">Bob's blog</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> }};</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#d2a6ee;--1:#6a3588">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#075457">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#94b6ff;--1:#2d4a87">Response</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#94b6ff;--1:#2d4a87">JSON</span><span style="--0:#d2a6ee;--1:#6a3588">.</span><span style="--0:#94b6ff;--1:#2d4a87">stringify</span><span style="--0:#D6DEEB;--1:#403F53">({ </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">title</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">Bob's blog</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> }));</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="export async function GET() {  return { body: { &#x22;title&#x22;: &#x22;Bob&#x27;s blog&#x22; }};  return new Response(JSON.stringify({ &#x22;title&#x22;: &#x22;Bob&#x27;s blog&#x22; }));}"><div></div></button></div></figure></div>
<p>如果你确实需要保留以前的格式，你可以使用 <code dir="auto">ResponseWithEncoding</code> 对象，但它会在将来被弃用。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">endpoint.json.ts</span></figcaption><pre data-language="ts"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">async</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">function</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">GET</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">  </span><span style="--0:#d0a3ed;--1:#663383">return</span><span style="--0:#D6DEEB;--1:#403F53"> { body: { </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">title</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">Bob's blog</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> } };</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">  </span><span style="--0:#d2a6ee;--1:#6a3588">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#075457">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#94b6ff;--1:#2d4a87">ResponseWithEncoding</span><span style="--0:#D6DEEB;--1:#403F53">({ body: { </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">title</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">Bob's blog</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> }});</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="export async function GET() {  return { body: { &#x22;title&#x22;: &#x22;Bob&#x27;s blog&#x22; } };  return new ResponseWithEncoding({ body: { &#x22;title&#x22;: &#x22;Bob&#x27;s blog&#x22; }});}"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="默认值改变tsconfigjson-预设里的-verbatimmodulesyntax">默认值改变：tsconfig.json 预设里的 <code dir="auto">verbatimModuleSyntax</code></h3><a class="sl-anchor-link" href="#默认值改变tsconfigjson-预设里的-verbatimmodulesyntax"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “默认值改变：tsconfig.json 预设里的 verbatimModuleSyntax”</span></a></div>
<p>在 Astro v2.x 中，<a href="https://www.typescriptlang.org/tsconfig#verbatimModuleSyntax"><code dir="auto">verbatimModuleSyntax</code></a> 默认是关闭的，在 <code dir="auto">strict</code> 预设中它的 TypeScript 4.x 等价设置项 <code dir="auto">importsNotUsedAsValues</code> 是启用的。</p>
<p>在 Astro v3.0 中，所有预设都启用了 <code dir="auto">verbatimModuleSyntax</code>。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-16">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-16"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>这个选项使得类型导入必须使用 <code dir="auto">import type</code> 语法。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyAstroComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><mark><span style="--0:#d0a4ed;--1:#753a96">type</span></mark><span style="--0:#D6DEEB;--1:#403F53"> CollectionEntry, getEntry } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">astro:content</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="---import { type CollectionEntry, getEntry } from &#x22;astro:content&#x22;;---"><div></div></button></div></figure></div>
<p>虽然我们建议保持此设置项为启用状态并（像上面展示的那样）使用 <code dir="auto">import type</code> 来导入类型，如果出现了任何问题，你可以通过在 <code dir="auto">tsconfig.json</code> 中设置 <code dir="auto">verbatimModuleSyntax: false</code> 来禁用它。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">tsconfig.json</span></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"compilerOptions"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"verbatimModuleSyntax"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><mark><span style="--0:#ff96a8;--1:#893d3d">false</span></mark></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="{  &#x22;compilerOptions&#x22;: {    &#x22;verbatimModuleSyntax&#x22;: false  }}"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="默认值改变端口-3000">默认值改变：端口 <code dir="auto">3000</code></h3><a class="sl-anchor-link" href="#默认值改变端口-3000"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “默认值改变：端口 3000”</span></a></div>
<p>在 Astro v2.x 中，默认情况下，Astro 运行在 <code dir="auto">3000</code> 端口上。</p>
<p>Astro v3.0 将 <a href="/zh-cn/reference/cli-reference/#--port-number">默认端口</a> 更改为 <code dir="auto">4321</code>。🚀</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-17">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-17"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>更新任何现有的引用 <code dir="auto">localhost:3000</code>，例如在测试或在你的 <code dir="auto">README</code> 中，以反映新的端口 <code dir="auto">localhost:4321</code>。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="默认值改变importmetaenvbase_url-trailingslash">默认值改变：import.meta.env.BASE_URL <code dir="auto">trailingSlash</code></h3><a class="sl-anchor-link" href="#默认值改变importmetaenvbase_url-trailingslash"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “默认值改变：import.meta.env.BASE_URL trailingSlash”</span></a></div>
<p>在 Astro v2.x 中，除非 <a href="/zh-cn/reference/configuration-reference/#trailingslash"><code dir="auto">trailingSlash</code></a> 被设置为 <code dir="auto">never</code>，否则 <code dir="auto">import.meta.env.BASE_URL</code> 总是被设置成以斜杠 <code dir="auto">/</code> 结尾的 <a href="/zh-cn/reference/configuration-reference/#base"><code dir="auto">base</code></a>。也就是说默认情况下如果 <code dir="auto">base</code> 不是以斜杠结尾的，Astro 会帮你添加一个。</p>
<p>Astro v3.0 中的 <code dir="auto">import.meta.env.BASE_URL</code> 默认情况下不再给 <code dir="auto">base</code> 添加斜杠，也不会在设置 <code dir="auto">trailingSlash: "ignore"</code> 时添加斜杠。<code dir="auto">trailingSlash: "always"</code> 和 <code dir="auto">trailingSlash: "never"</code> 的行为保持不变。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-18">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-18"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>如果你的 <code dir="auto">base</code> 已经以斜杠结尾，或你的 <code dir="auto">trailingSlash</code> 设置为 <code dir="auto">always</code> 或 <code dir="auto">never</code>，则不需要更改。</p>
<p>如果你的 <code dir="auto">base</code> 不以斜杠结尾 <strong>并且</strong> 你希望 <code dir="auto">import.meta.env.BASE_URL</code> 与以前保持一致，请在 <code dir="auto">base</code> 后添加一个斜杠。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">base: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">my-base</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">base: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">my-base/</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x22;astro/config&#x22;;export default defineConfig({  base: &#x27;my-base&#x27;,  base: &#x27;my-base/&#x27;,});"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="默认值改变compresshtml">默认值改变：<code dir="auto">compressHTML</code></h3><a class="sl-anchor-link" href="#默认值改变compresshtml"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “默认值改变：compressHTML”</span></a></div>
<p>在 Astro v2.x 中，只有当 <a href="/zh-cn/reference/configuration-reference/#compresshtml"><code dir="auto">compressHTML</code></a> 明确设置为 <code dir="auto">true</code> 时，Astro 才会压缩你发出的 HTML。默认值曾经是 <code dir="auto">false</code>。</p>
<p>Astro v3.0 现在默认压缩产出的 HTML。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-19">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-19"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>你可以从你的配置中删除 <code dir="auto">compressHTML: true</code>，因为这是新的默认行为。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">compressHTML: </span><span style="--0:#ff96a8;--1:#7a3636">true</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">})</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x22;astro/config&#x22;;export default defineConfig({  compressHTML: true})"><div></div></button></div></figure></div>
<p>你现在必须设置 <code dir="auto">compressHTML: false</code> 来禁用 HTML 压缩。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="默认值改变scopedstylestrategy">默认值改变：<code dir="auto">scopedStyleStrategy</code></h3><a class="sl-anchor-link" href="#默认值改变scopedstylestrategy"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “默认值改变：scopedStyleStrategy”</span></a></div>
<p>在 Astro v2.x 中，<a href="/zh-cn/reference/configuration-reference/#scopedstylestrategy"><code dir="auto">scopedStyleStrategy</code></a> 的默认值是 <code dir="auto">"where"</code>。</p>
<p>Astro v3.0 引入了一个新的默认值：<code dir="auto">"attribute"</code>。现在默认情况下，样式使用 <code dir="auto">data-*</code> 属性。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-20">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-20"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>为了保留你项目的当前 <a href="/zh-cn/guides/styling/#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%A0%B7%E5%BC%8F">样式作用域</a>，请修改配置文件为以前的默认值：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">scopedStyleStrategy: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">where</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">})</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x22;astro/config&#x22;;export default defineConfig({  scopedStyleStrategy: &#x22;where&#x22;})"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="默认值改变inlinestylesheets">默认值改变：<code dir="auto">inlineStyleSheets</code></h3><a class="sl-anchor-link" href="#默认值改变inlinestylesheets"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “默认值改变：inlineStyleSheets”</span></a></div>
<p>在 Astro v2.x 中，默认情况下，所有项目样式表都作为 <code dir="auto">link</code> 标签输出。你可以通过设置为 <code dir="auto">"always"</code> 使它们总是内联到 <code dir="auto">&#x3C;style></code> 标签中，或者设置为 <code dir="auto">"auto"</code> 再通过 <a href="/zh-cn/reference/configuration-reference/#buildinlinestylesheets"><code dir="auto">build.inlineStylesheets</code></a> 设置项来仅内联小于某个大小的样式表。默认设置曾经为 <code dir="auto">"never"</code>。</p>
<p>Astro v3.0 将 <code dir="auto">inlineStylesheets</code> 的默认值更改为 <code dir="auto">"auto"</code>。默认情况下小于 <code dir="auto">ViteConfig.build.assetsInlineLimit</code>（默认值：4kb）的样式表被内联，其他项目样式将以外部样式表的形式输出。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-21">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-21"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>如果你想保留你项目的当前行为，请将 <code dir="auto">build.inlineStylesheets</code> 设置为以前的默认值 <code dir="auto">"never"</code>：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">   </span></span><span style="--0:#D6DEEB;--1:#403F53">build: {</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">inlineStylesheets: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">never</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">})</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x22;astro/config&#x22;;export default defineConfig({   build: {    inlineStylesheets: &#x22;never&#x22;  }})"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="默认值改变图像服务">默认值改变：图像服务</h3><a class="sl-anchor-link" href="#默认值改变图像服务"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “默认值改变：图像服务”</span></a></div>
<p>在 Astro v2.x 中，Squoosh 是<a href="/zh-cn/guides/images/#%E9%BB%98%E8%AE%A4%E5%9B%BE%E5%83%8F%E6%9C%8D%E5%8A%A1">默认的图像处理服务</a>。</p>
<p>Astro v3.0 将 Sharp 作为默认的图像处理服务，并提供了一个配置选项来使用 Squoosh。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-22">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-22"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<aside aria-label="注意" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>注意</p><div class="starlight-aside__content"><p>当使用像 <code dir="auto">pnpm</code> 这样的 <a href="https://pnpm.io/pnpm-vs-npm#npms-flat-tree">严格包管理器</a> 时，即使 Sharp 已经是 Astro 的依赖项，你也可能需要手动安装 Sharp 到你的项目中：</p><div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">终端窗口</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">pnpm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">add</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">sharp</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="pnpm add sharp"><div></div></button></div></figure></div></div></aside>
<p>如果你希望继续使用 Squoosh 来转换你的图像，请使用以下配置更新你的配置：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="ts"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig, squooshImageService } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">image: {</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">service: </span><span style="--0:#94b6ff;--1:#2d4a87">squooshImageService</span><span style="--0:#D6DEEB;--1:#403F53">(),</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">})</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig, squooshImageService } from &#x22;astro/config&#x22;;export default defineConfig({  image: {    service: squooshImageService(),  }})"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="修改http-请求方法案例">修改：HTTP 请求方法案例</h3><a class="sl-anchor-link" href="#修改http-请求方法案例"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “修改：HTTP 请求方法案例”</span></a></div>
<p>在 Astro v2.x 中，<a href="/zh-cn/guides/endpoints/#http-%E6%96%B9%E6%B3%95">HTTP 请求方法</a> 使用小写函数名称编写：<code dir="auto">get</code>、<code dir="auto">post</code>、<code dir="auto">put</code>、<code dir="auto">all</code> 和 <code dir="auto">del</code>。</p>
<p>Astro v3.0 使用大写函数名称，使用 <code dir="auto">DELETE</code> 而不是 <code dir="auto">del</code>。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-23">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-23"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>重命名所有的函数名为它们的大写形式：</p>
<ul>
<li><code dir="auto">get</code> 改为 <code dir="auto">GET</code></li>
<li><code dir="auto">post</code> 改为 <code dir="auto">POST</code></li>
<li><code dir="auto">put</code> 改为 <code dir="auto">PUT</code></li>
<li><code dir="auto">all</code> 改为 <code dir="auto">ALL</code></li>
<li><code dir="auto">del</code> 改为 <code dir="auto">DELETE</code></li>
</ul>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">endpoint.ts</span></figcaption><pre data-language="js"><code><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#d0a3ed;--1:#663383">function</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#91b4ff;--1:#2c4984">get</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#d2a6ee;--1:#6a3588">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#d2a6ee;--1:#6a3588">function</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#94b6ff;--1:#2d4a87">GET</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">Response</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">JSON</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">stringify</span><span style="--0:#D6DEEB;--1:#403F53">({ </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">title</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Bob's blog</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> }));</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="export function get() {export function GET() {    return new Response(JSON.stringify({ &#x22;title&#x22;: &#x22;Bob&#x27;s blog&#x22; }));}"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="修改多个-jsx-框架配置">修改：多个 JSX 框架配置</h3><a class="sl-anchor-link" href="#修改多个-jsx-框架配置"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “修改：多个 JSX 框架配置”</span></a></div>
<p>在 Astro v2.x 中，你可以在同一个项目中使用多个 JSX 框架集成（React、Solid、Preact）而不需要指定哪些文件属于哪个框架。</p>
<p>Astro v3.0 现在要求你在有多个 JSX 框架集成时，使用新的 <code dir="auto">include</code> 和 <code dir="auto">exclude</code> 集成配置选项来指定你的文件使用哪个框架。这使得 Astro 更好地支持单框架使用，以及 React Fast Refresh 等高级功能。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-24">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-24"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>如果你在同一个项目中使用多个 JSX 框架集成，请将 <code dir="auto">include</code>（和可选的 <code dir="auto">exclude</code>）设置为文件或文件夹的路径数组。可用通配符来包含多个文件路径。</p>
<p>我们建议将常见的框架组件放在同一个文件夹中（例如 <code dir="auto">/components/react/</code> 和 <code dir="auto">/components/solid/</code>），以便更容易地指定你的包含内容，但这不是必需的：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> preact </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">@astrojs/preact</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> react </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">@astrojs/react</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> svelte </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">@astrojs/svelte</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> vue </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">@astrojs/vue</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> solid </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">@astrojs/solid-js</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#919F9F;--1:#5D6376">// 启用多个框架来支持所有不同类型的组件。</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#919F9F;--1:#5D6376">// 如果你只使用一个 JSX 框架，则不需要 `include`！</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">integrations: [</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">preact</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">include: [</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">**/preact/*</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">],</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}),</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">react</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">include: [</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">**/react/*</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">],</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}),</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">solid</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">include: [</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">**/solid/*</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">],</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}),</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">],</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x27;astro/config&#x27;;import preact from &#x27;@astrojs/preact&#x27;;import react from &#x27;@astrojs/react&#x27;;import svelte from &#x27;@astrojs/svelte&#x27;;import vue from &#x27;@astrojs/vue&#x27;;import solid from &#x27;@astrojs/solid-js&#x27;;export default defineConfig({  // 启用多个框架来支持所有不同类型的组件。  // 如果你只使用一个 JSX 框架，则不需要 &#x60;include&#x60;！  integrations: [    preact({      include: [&#x27;**/preact/*&#x27;],    }),    react({      include: [&#x27;**/react/*&#x27;],    }),    solid({      include: [&#x27;**/solid/*&#x27;],    }),  ],});"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="修改astrocookiesgetkey-可以返回-undefined">修改：<code dir="auto">Astro.cookies.get(key)</code> 可以返回 <code dir="auto">undefined</code></h3><a class="sl-anchor-link" href="#修改astrocookiesgetkey-可以返回-undefined"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “修改：Astro.cookies.get(key) 可以返回 undefined”</span></a></div>
<p>在 Astro v2.x 中，<code dir="auto">Astro.cookies.get(key)</code>即使 cookie 不存在也会返回一个 <code dir="auto">AstroCookie</code> 对象。要检查它是否存在，你需要使用 <code dir="auto">Astro.cookies.has(key)</code>。</p>
<p>Astro v3.0 中，如果 cookie 不存在，<code dir="auto">Astro.cookies.get(key)</code> 会返回 <code dir="auto">undefined</code>。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-25">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-25"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>这个修改不会影响任何在调用 <code dir="auto">Astro.cookies.get(key)</code> 之前用 <code dir="auto">Astro.cookies.has(key)</code> 检查 cookie 是否存在的代码，但现在不再需要检查。</p>
<p>你可以安全的删除任何使用 <code dir="auto">has()</code> 来检查 cookie 是否存在的代码：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">if</span><span style="--0:#D6DEEB;--1:#403F53"> (</span><span style="--0:#7FDBCA;--1:#075356">Astro</span><span style="--0:#d0a3ed;--1:#663383">.</span><span style="--0:#FAF39F;--1:#111111">cookies</span><span style="--0:#d0a3ed;--1:#663383">.</span><span style="--0:#91b4ff;--1:#2c4984">has</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">id</span><span style="--0:#D6DEEB">)) {</span></span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">  </span><span style="--0:#d0a3ed;--1:#663383">const </span><span style="--0:#91b4ff;--1:#2c4984">id</span><span style="--0:#d0a3ed;--1:#663383"> = </span><span style="--0:#7FDBCA;--1:#075356">Astro</span><span style="--0:#d0a3ed;--1:#663383">.</span><span style="--0:#FAF39F;--1:#111111">cookies</span><span style="--0:#d0a3ed;--1:#663383">.</span><span style="--0:#91b4ff;--1:#2c4984">get</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">id</span><span style="--0:#D6DEEB">)</span></span><span style="--0:#d0a3ed;--1:#663383">!</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line highlight del"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#d2a6ee;--1:#6a3588">const </span><span style="--0:#94b6ff;--1:#2d4a87">id</span><span style="--0:#d2a6ee;--1:#6a3588"> = </span><span style="--0:#7FDBCA;--1:#075457">Astro</span><span style="--0:#d2a6ee;--1:#6a3588">.</span><span style="--0:#FAF39F;--1:#111111">cookies</span><span style="--0:#d2a6ee;--1:#6a3588">.</span><span style="--0:#94b6ff;--1:#2d4a87">get</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">id</span><span style="--0:#D6DEEB">);</span></span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#d2a6ee;--1:#6a3588">if</span><span style="--1:#403F53"><span style="--0:#D6DEEB"> (</span><span style="--0:#D7DBE0">id</span><span style="--0:#D6DEEB">) {</span></span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="if (Astro.cookies.has(id)) {  const id = Astro.cookies.get(id)!;}const id = Astro.cookies.get(id);if (id) {}"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="修改以编程方式运行-astro-cli">修改：以编程方式运行 Astro CLI</h3><a class="sl-anchor-link" href="#修改以编程方式运行-astro-cli"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “修改：以编程方式运行 Astro CLI”</span></a></div>
<p>在 Astro v2.x 中，<code dir="auto">"astro"</code> 包的入口点直接导出并运行 Astro CLI。在实践中不建议以这种方式运行 Astro。</p>
<p>Astro v3.0 从入口点中删除了 CLI，并导出了一组新的实验性 JavaScript API，包括 <code dir="auto">dev()</code>、<code dir="auto">build()</code>、<code dir="auto">preview()</code> 和 <code dir="auto">sync()</code>。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-26">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-26"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>要 <a href="/zh-cn/reference/programmatic-reference/">以编程方式运行 Astro CLI</a>，请使用新的实验性 JavaScript API：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { dev, build } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">astro</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// 启动 Astro 开发服务器</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">devServer</span><span style="--0:#C792EA;--1:#8844AE"> = await </span><span style="--0:#82AAFF;--1:#3B61B0">dev</span><span style="--0:#D6DEEB;--1:#403F53">();</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">await</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">devServer</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">stop</span><span style="--0:#D6DEEB;--1:#403F53">();</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// 构建 Astro 项目</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">await</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">build</span><span style="--0:#D6DEEB;--1:#403F53">();</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { dev, build } from &#x22;astro&#x22;;// 启动 Astro 开发服务器const devServer = await dev();await devServer.stop();// 构建 Astro 项目await build();"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="修改内部-astro-api-入口文件导出路径">修改：内部 Astro API 入口文件导出路径</h3><a class="sl-anchor-link" href="#修改内部-astro-api-入口文件导出路径"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “修改：内部 Astro API 入口文件导出路径”</span></a></div>
<p>在 Astro v2.x 中，你可以从 <code dir="auto">astro/internal/*</code> 和 <code dir="auto">astro/runtime/server/*</code> 导入内部 Astro API。</p>
<p>Astro v3.0 删除了这两个入口文件，而是使用现有的 <code dir="auto">astro/runtime/*</code> 入口文件。此外，还为编译器的运行时代码导出了一个新的 <code dir="auto">astro/compiler-runtime</code>。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="我应该怎么做-27">我应该怎么做？</h4><a class="sl-anchor-link" href="#我应该怎么做-27"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “我应该怎么做？”</span></a></div>
<p>这些是 Astro 内部 API 的入口文件，不应该影响你的项目。但如果你确实使用了这些入口文件，请按照下面的说明更新：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">import</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">astro/internal/index.js</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#d2a6ee;--1:#6a3588">import</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">astro/runtime/server/index.js</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">import</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">astro/server/index.js</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#d2a6ee;--1:#6a3588">import</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">astro/runtime/server/index.js</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import &#x27;astro/internal/index.js&#x27;;import &#x27;astro/runtime/server/index.js&#x27;;import &#x27;astro/server/index.js&#x27;;import &#x27;astro/runtime/server/index.js&#x27;;"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { transform } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">@astrojs/compiler</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">result</span><span style="--0:#C792EA;--1:#8844AE"> = await </span><span style="--0:#82AAFF;--1:#3B61B0">transform</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">source</span></span><span style="--0:#C792EA;--1:#8844AE">, {</span></div></div><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383"><span class="indent">  </span>internalURL: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">astro/runtime/server/index.js</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#d0a3ed;--1:#663383">,</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#d2a6ee;--1:#6a3588"><span class="indent">  </span>internalURL: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">astro/compiler-runtime</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#d2a6ee;--1:#6a3588">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#919F9F;--1:#5D6376">// ...</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { transform } from &#x27;@astrojs/compiler&#x27;;const result = await transform(source, {  internalURL: &#x27;astro/runtime/server/index.js&#x27;,  internalURL: &#x27;astro/compiler-runtime&#x27;,  // ...});"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h2"><h2 id="功能升级">功能升级</h2><a class="sl-anchor-link" href="#功能升级"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “功能升级”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="升级图像到-v3">升级图像到 v3</h3><a class="sl-anchor-link" href="#升级图像到-v3"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “升级图像到 v3”</span></a></div>
<p><code dir="auto">astro:assets</code> 不再是 Astro v3.0 中的实验性标志。</p>
<p><code dir="auto">&#x3C;Image /></code> 现在是内置组件，之前的 <code dir="auto">@astrojs/image</code> 集成已被删除。</p>
<p>当你从早期版本升级你的 Astro 项目时，这些和其他伴随的更改，可能会导致一些破坏性的变化。</p>
<p>请根据需要按照以下说明将 Astro v2.x 项目升级到 v3.0。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="从-experimentalassets-升级">从 <code dir="auto">experimental.assets</code> 升级</h4><a class="sl-anchor-link" href="#从-experimentalassets-升级"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “从 experimental.assets 升级”</span></a></div>
<p>如果你之前启用了 <code dir="auto">astro:assets</code> 的实验性标志，你需要更新你的项目到 Astro v3.0，它现在默认包含了 assets 功能。</p>
<div class="sl-heading-wrapper level-h5"><h5 id="移除-experimentalassets-标志">移除 <code dir="auto">experimental.assets</code> 标志</h5><a class="sl-anchor-link" href="#移除-experimentalassets-标志"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除 experimental.assets 标志”</span></a></div>
<p>移除实验性标志：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">experimental: {</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">assets: </span><span style="--0:#ff96a8;--1:#7a3636">true</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x27;astro/config&#x27;;export default defineConfig({  experimental: {    assets: true  }});"><div></div></button></div></figure></div>
<p>如果需要，还可以更新你的 <code dir="auto">src/env.d.ts</code> 文件，将 <code dir="auto">astro/client-image</code> 引用替换为 <code dir="auto">astro/client</code>：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/env.d.ts</span></figcaption><pre data-language="ts"><code><div class="ec-line highlight del"><div class="code"><span style="--0:#acb6b6;--1:#474a53">/// </span><span style="--1:#663383"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">reference</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#2c4984">types</span><span style="--0:#d0a3ed;--1:#663383">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">astro/client-image</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#663383"> /></span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#aeb8b8;--1:#494c55">/// </span><span style="--1:#6a3588"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">reference</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#2d4a87">types</span><span style="--0:#d2a6ee;--1:#6a3588">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">astro/client</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#6a3588"> /></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="/// <reference types=&#x22;astro/client-image&#x22; />/// <reference types=&#x22;astro/client&#x22; />"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h5"><h5 id="移除assets-导入别名">移除<code dir="auto">~/assets</code> 导入别名</h5><a class="sl-anchor-link" href="#移除assets-导入别名"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除~/assets 导入别名”</span></a></div>
<p>这个导入别名不再默认包含在 <code dir="auto">astro:assets</code> 中。如果你之前使用这个别名，你必须将它们转换为相对文件路径，或者 <a href="/zh-cn/guides/imports/#%E5%88%AB%E5%90%8D">创建你自己的导入别名</a>。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/posts/post-1.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">import</span><span style="--0:#D6DEEB;--1:#403F53"> rocket </span><span style="--0:#d0a3ed;--1:#663383">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">~/assets/rocket.png</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#d2a6ee;--1:#6a3588">import</span><span style="--0:#D6DEEB;--1:#403F53"> rocket </span><span style="--0:#d2a6ee;--1:#6a3588">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">../../assets/rocket.png</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="---import rocket from &#x27;~/assets/rocket.png&#x27;;import rocket from &#x27;../../assets/rocket.png&#x27;;---"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h5"><h5 id="为-cloudflare-deno-vercel-edge-和-netlify-edge-添加简单的资源支持">为 Cloudflare, Deno, Vercel Edge 和 Netlify Edge 添加简单的资源支持</h5><a class="sl-anchor-link" href="#为-cloudflare-deno-vercel-edge-和-netlify-edge-添加简单的资源支持"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “为 Cloudflare, Deno, Vercel Edge 和 Netlify Edge 添加简单的资源支持”</span></a></div>
<p>Astro v3.0 允许 <code dir="auto">astro:assets</code> 在 Cloudflare、Deno、Vercel Edge 和 Netlify Edge 中无错误地工作，这些环境不支持 Astro 的内置 Squoosh 和 Sharp 图像优化。请注意，Astro 不会在这些环境中执行任何图像转换和处理。但是，你仍然可以享受使用 <code dir="auto">astro:assets</code> 的其他好处，包括没有累积布局移位（CLS）、强制执行的 <code dir="auto">alt</code> 属性和一致的创作体验。</p>
<p>如果你之前因为这些限制而避免使用 <code dir="auto">astro:assets</code>，现在你可以在没有问题的情况下使用它们。你可以配置无操作图像服务来显式地选择这种行为：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">image: {</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">service: {</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">entrypoint: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">astro/assets/services/noop</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x27;astro/config&#x27;;export default defineConfig({  image: {    service: {      entrypoint: &#x27;astro/assets/services/noop&#x27;    }  }});"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h4"><h4 id="决定在哪里存储你的图像">决定在哪里存储你的图像</h4><a class="sl-anchor-link" href="#决定在哪里存储你的图像"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “决定在哪里存储你的图像”</span></a></div>
<p>请参阅 <a href="/zh-cn/guides/images/#%E5%9C%A8%E5%93%AA%E9%87%8C%E5%AD%98%E5%82%A8%E5%9B%BE%E5%83%8F">图像指南</a> 来帮助你决定在哪里存储你的图像。你可能希望利用 <code dir="auto">astro:assets</code> 带来的灵活性，来存储你的图像的新选项。例如，现在可以使用标准的 Markdown <code dir="auto">![alt](src)</code> 语法，在 Markdown、MDX 和 Markdoc 中引用项目 <code dir="auto">src/</code> 中的相对图像。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="更新现有的-img-标签">更新现有的 <code dir="auto">&#x3C;img></code> 标签</h4><a class="sl-anchor-link" href="#更新现有的-img-标签"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “更新现有的 &#x3C;img> 标签”</span></a></div>
<p>以前，导入图像将返回一个简单的 <code dir="auto">string</code>，其中包含图像的路径。现在，导入的图像资源与以下签名相匹配：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="ts"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">interface</span><span style="--0:#D6DEEB;--1:#403F53"> ImageMetadata {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">src</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">string</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">width</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">number</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">height</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">number</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">format</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">string</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="interface ImageMetadata {  src: string;  width: number;  height: number;  format: string;}"><div></div></button></div></figure></div>
<p>你必须更新任何现有 <code dir="auto">&#x3C;img></code> 标签的 <code dir="auto">src</code> 属性（包括任何 <a href="/zh-cn/guides/images/#ui-%E6%A1%86%E6%9E%B6%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%9B%BE%E5%83%8F">UI 框架组件中的图像</a>），你也可以更新从导入的图像中获得的其他属性。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> rocket </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">../images/rocket.svg</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line highlight del"><div class="code"><span style="--1:#663383"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">img</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#2c4984">src</span><span style="--0:#7FDBCA;--1:#663383">=</span><span style="--0:#eaa2a1;--1:#862a27">{</span><span style="--0:#D6DEEB;--1:#403F53">rocket</span><span style="--0:#eaa2a1;--1:#862a27">}</span><span style="--0:#7FDBCA;--1:#663383"> </span><span style="--0:#C5E478;--1:#2c4984">width</span><span style="--0:#7FDBCA;--1:#663383">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">250</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#663383"> </span><span style="--0:#C5E478;--1:#2c4984">height</span><span style="--0:#7FDBCA;--1:#663383">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">250</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#663383"> </span><span style="--0:#C5E478;--1:#2c4984">alt</span><span style="--0:#7FDBCA;--1:#663383">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">太空中的火箭飞船。</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#663383"> /></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight ins"><div class="code"><span style="--1:#6a3588"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">img</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#2d4a87">src</span><span style="--0:#7FDBCA;--1:#6a3588">=</span><span style="--0:#eaa5a4;--1:#882b28">{</span><span style="--0:#D6DEEB;--1:#403F53">rocket</span><mark><span style="--0:#e2c6f4;--1:#552b6d">.</span><span style="--0:#8ddfd0;--1:#064547">src</span></mark><span style="--0:#eaa5a4;--1:#882b28">}</span><span style="--0:#7FDBCA;--1:#6a3588"> </span><span style="--0:#C5E478;--1:#2d4a87">width</span><span style="--0:#7FDBCA;--1:#6a3588">=</span><span style="--0:#eaa5a4;--1:#882b28">{</span><span style="--0:#D6DEEB;--1:#403F53">rocket</span><mark><span style="--0:#e2c6f4;--1:#552b6d">.</span><span style="--0:#8ddfd0;--1:#064547">width</span></mark><span style="--0:#eaa5a4;--1:#882b28">}</span><span style="--0:#7FDBCA;--1:#6a3588"> </span><span style="--0:#C5E478;--1:#2d4a87">height</span><span style="--0:#7FDBCA;--1:#6a3588">=</span><span style="--0:#eaa5a4;--1:#882b28">{</span><span style="--0:#D6DEEB;--1:#403F53">rocket</span><mark><span style="--0:#e2c6f4;--1:#552b6d">.</span><span style="--0:#8ddfd0;--1:#064547">height</span></mark><span style="--0:#eaa5a4;--1:#882b28">}</span><span style="--0:#7FDBCA;--1:#6a3588"> </span><span style="--0:#C5E478;--1:#2d4a87">alt</span><span style="--0:#7FDBCA;--1:#6a3588">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">太空中的火箭飞船。</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#6a3588"> /></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="---import rocket from &#x27;../images/rocket.svg&#x27;;---<img src={rocket} width=&#x22;250&#x22; height=&#x22;250&#x22; alt=&#x22;太空中的火箭飞船。&#x22; /><img src={rocket.src} width={rocket.width} height={rocket.height} alt=&#x22;太空中的火箭飞船。&#x22; />"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h4"><h4 id="更新你的-markdown-mdx-和-markdoc-文件">更新你的 Markdown, MDX, 和 Markdoc 文件</h4><a class="sl-anchor-link" href="#更新你的-markdown-mdx-和-markdoc-文件"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “更新你的 Markdown, MDX, 和 Markdoc 文件”</span></a></div>
<p>现在可以使用标准的 Markdown <code dir="auto">![alt](src)</code> 语法，在 Markdown、MDX 和 Markdoc 中引用项目 <code dir="auto">src/</code> 中的相对图像。</p>
<p>这允许你将图像从 <code dir="auto">public/</code> 目录移动到你的项目 <code dir="auto">src/</code>，它们现在将被处理和优化。你现有的 <code dir="auto">public/</code> 中的图像和远程图像仍然有效，但不会被 Astro 的构建过程优化。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/posts/post-1.md</span></figcaption><pre data-language="md"><code><div class="ec-line"><div class="code"><span style="--0:#82B1FF;--1:#3B61B0"># 我的 Markdown 页面</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">&#x3C;!-- 现在可以使用本地图像 --></span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">![</span><span style="--0:#D6DEEB;--0td:underline;--1:#403F53;--1td:underline">繁星点点的夜空</span><span style="--0:#D6DEEB;--1:#403F53">]</span><span style="--0:#7FDBCA;--1:#096E72">(</span><span style="--0:#FF869A;--0td:underline;--1:#954F5A;--1td:underline">../../images/stars.png</span><span style="--0:#7FDBCA;--1:#096E72">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">&#x3C;!-- 将你的图像放在你的内容旁边！ --></span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">![</span><span style="--0:#D6DEEB;--0td:underline;--1:#403F53;--1td:underline">繁星点点的夜空</span><span style="--0:#D6DEEB;--1:#403F53">]</span><span style="--0:#7FDBCA;--1:#096E72">(</span><span style="--0:#FF869A;--0td:underline;--1:#954F5A;--1td:underline">./stars.png</span><span style="--0:#7FDBCA;--1:#096E72">)</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="# 我的 Markdown 页面<!-- 现在可以使用本地图像 -->![繁星点点的夜空](../../images/stars.png)<!-- 将你的图像放在你的内容旁边！ -->![繁星点点的夜空](./stars.png)"><div></div></button></div></figure></div>
<p>如果你需要对图像属性做更多的控制，我们建议使用 <code dir="auto">.mdx</code> 文件格式，除了 Markdown 语法，你还可以使用 Astro 的 <code dir="auto">&#x3C;Image /></code> 组件或 JSX <code dir="auto">&#x3C;img /></code> 标签。使用 <a href="/zh-cn/guides/integrations-guide/mdx/">MDX 集成</a> 为 Astro 添加对 MDX 的支持。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="移除-astrojsimage">移除 <code dir="auto">@astrojs/image</code></h4><a class="sl-anchor-link" href="#移除-astrojsimage"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除 @astrojs/image”</span></a></div>
<p>如果你在 Astro v2.x 中使用了图像集成，请完成以下步骤：</p>
<ol role="list" class="sl-steps">
<li>
<p>移除 <code dir="auto">@astrojs/image</code> 集成。</p>
<p>你必须通过卸载并从你的 <code dir="auto">astro.config.mjs</code> 文件中删除它，来 <a href="/zh-cn/guides/integrations-guide/#%E7%A7%BB%E9%99%A4%E9%9B%86%E6%88%90">移除集成</a>。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">import</span><span style="--0:#D6DEEB;--1:#403F53"> image </span><span style="--0:#d0a3ed;--1:#663383">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">@astrojs/image</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">integrations: [</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">    </span><span style="--0:#91b4ff;--1:#2c4984">image</span><span style="--0:#D6DEEB;--1:#403F53">(),</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">})</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x27;astro/config&#x27;;import image from &#x27;@astrojs/image&#x27;;export default defineConfig({  integrations: [    image(),  ]})"><div></div></button></div></figure></div>
</li>
<li>
<p>更新类型（如果需要的话）。</p>
<p>如果你在 <code dir="auto">src/env.d.ts</code> 中为 <code dir="auto">@astrojs/image</code> 配置了特殊类型，并且如果你的升级到 v3 却没有完成这一步，你可能需要将它们改回 Astro 的默认类型。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/env.d.ts</span></figcaption><pre data-language="ts"><code><div class="ec-line highlight del"><div class="code"><span class="indent"> </span><span style="--0:#acb6b6;--1:#464a59">/// &#x3C;reference types="@astrojs/image/client" /></span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"> </span><span style="--0:#aeb8b8;--1:#474c5a">/// &#x3C;reference types="astro/client" /></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code=" /// <reference types=&#x22;@astrojs/image/client&#x22; /> /// <reference types=&#x22;astro/client&#x22; />"><div></div></button></div></figure></div>
<p>同样地，如果需要的话，更新 <code dir="auto">tsconfig.json</code>：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">tsconfig.json</span></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"compilerOptions"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#075356">"types"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#d4a4df;--1:#5d4165">@astrojs/image/client</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#d5a7e0;--1:#5d4165">types</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#FFFFFF;--1:#723b3a">:</span><span style="--0:#D6DEEB;--1:#403F53"> [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#d5a7e0;--1:#5d4165">astro/client</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="{  &#x22;compilerOptions&#x22;: {    &#x22;types&#x22;: [&#x22;@astrojs/image/client&#x22;]    &#x22;types&#x22;: [&#x22;astro/client&#x22;]  }}"><div></div></button></div></figure></div>
</li>
<li>
<p>迁移任何现有的 <code dir="auto">&#x3C;Image /></code> 组件。</p>
<p>将所有 <code dir="auto">import</code> 语句从 <code dir="auto">@astrojs/image/components</code> 更改为 <code dir="auto">astro:assets</code>，以便使用新的内置 <code dir="auto">&#x3C;Image /></code> 组件。</p>
<p>移除任何当前不<a href="/zh-cn/reference/modules/astro-assets/#image-%E5%B1%9E%E6%80%A7">支持的图像属性</a>。</p>
<p>例如，<code dir="auto">aspectRatio</code> 不再支持，因为它现在可以从 <code dir="auto">width</code> 和 <code dir="auto">height</code> 属性中自动推断出来。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line highlight del"><div class="code"><span style="--0:#d0a3ed;--1:#663383">import</span><span style="--0:#D6DEEB;--1:#403F53"> { Image } </span><span style="--0:#d0a3ed;--1:#663383">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">@astrojs/image/components</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#d2a6ee;--1:#6a3588">import</span><span style="--0:#D6DEEB;--1:#403F53"> { Image } </span><span style="--0:#d2a6ee;--1:#6a3588">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#723b3a">astro:assets</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> localImage </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">../assets/logo.png</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">localAlt</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">The Astro Logo</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#8844AE">&#x3C;</span><span style="--0:#C5E478;--1:#3B61B0">Image</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C5E478;--1:#3B61B0">src</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#E2817F;--1:#B23834">{</span><span style="--0:#D6DEEB;--1:#403F53">localImage</span><span style="--0:#E2817F;--1:#B23834">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C5E478;--1:#3B61B0">width</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#E2817F;--1:#B23834">{</span><span style="--0:#F78C6C;--1:#AA0982">300</span><span style="--0:#E2817F;--1:#B23834">}</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">  </span><span style="--0:#C5E478;--1:#2c4984">aspectRatio</span><span style="--0:#7FDBCA;--1:#663383">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">16:9</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C5E478;--1:#3B61B0">alt</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#E2817F;--1:#B23834">{</span><span style="--0:#D6DEEB;--1:#403F53">localAlt</span><span style="--0:#E2817F;--1:#B23834">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#8844AE">/></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="---import { Image } from &#x27;@astrojs/image/components&#x27;;import { Image } from &#x27;astro:assets&#x27;;import localImage from &#x27;../assets/logo.png&#x27;;const localAlt = &#x27;The Astro Logo&#x27;;---<Image  src={localImage}  width={300}  aspectRatio=&#x22;16:9&#x22;  alt={localAlt}/>"><div></div></button></div></figure></div>
</li>
<li>
<p>选择一个默认图像服务。</p>
<p><a href="https://github.com/lovell/sharp">Sharp</a> 现在是 <code dir="auto">astro:assets</code> 的默认图像服务。如果你想使用 Sharp，无需任何配置。</p>
<p>如果你想使用 <a href="https://github.com/GoogleChromeLabs/squoosh">Squoosh</a> 来转换你的图像，请使用下面的 <code dir="auto">image.service</code> 选项更新你的配置：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig, squooshImageService } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">image: {</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">service: </span><span style="--0:#94b6ff;--1:#2d4a87">squooshImageService</span><span style="--0:#D6DEEB;--1:#403F53">(),</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig, squooshImageService } from &#x27;astro/config&#x27;;export default defineConfig({  image: {    service: squooshImageService(),  },});"><div></div></button></div></figure></div>
</li>
</ol>


<div class="sl-heading-wrapper level-h4"><h4 id="更新内容集合结构">更新内容集合结构</h4><a class="sl-anchor-link" href="#更新内容集合结构"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “更新内容集合结构”</span></a></div>
<p>你现在可以在 frontmatter 中声明一个与内容集合条目相关联的图像，例如博客文章的封面图像，使用相对于当前文件夹的路径：</p>
<p>内容集合中新的 <code dir="auto">image</code> 助手可让你使用 Zod 验证图像元数据。了解更多关于 <a href="/zh-cn/guides/images/#%E5%86%85%E5%AE%B9%E9%9B%86%E5%90%88%E4%B8%AD%E7%9A%84%E5%9B%BE%E5%83%8F">如何在内容集合中使用图像</a> 的内容。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="在-astro-v30-中导航图像导入">在 Astro v3.0 中导航图像导入</h4><a class="sl-anchor-link" href="#在-astro-v30-中导航图像导入"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “在 Astro v3.0 中导航图像导入”</span></a></div>
<p>在 Astro v3.0 中，如果你需要保留旧的图像导入方式，并要求图像的 URL 以字符串表示，你可以在导入图像时在图像路径的末尾添加 <code dir="auto">?url</code>。例如：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/pages/blog/MyImages.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> Sprite </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">../assets/logo.svg?url</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">svg</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">use</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3B61B0">xlink:href</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#E2817F;--1:#B23834">{</span><span style="--0:#D6DEEB;--1:#403F53">Sprite</span><span style="--1:#8844AE"><span style="--0:#7FDBCA"> </span><span style="--0:#C792EA">+</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">#cart</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#E2817F;--1:#B23834">}</span><span style="--0:#7FDBCA;--1:#8844AE"> /></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">svg</span><span style="--0:#7FDBCA">></span></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="---import Sprite from &#x27;../assets/logo.svg?url&#x27;;---<svg>  <use xlink:href={Sprite + &#x27;#cart&#x27;} /></svg>"><div></div></button></div></figure></div>
<p>这种方法可以确保获得 URL 字符串。请记住，在开发过程中，Astro 使用 <code dir="auto">src/</code> 路径，但在构建过程中，它会生成类似于 <code dir="auto">/_astro/cat.a6737dd3.png</code> 的哈希路径。</p>
<p>如果你更喜欢直接使用图像对象本身，你可以访问 <code dir="auto">.src</code> 属性。这种方法非常适合用于管理图像尺寸以适应 Core Web Vitals 指标和避免 CLS。</p>
<p>如果你正在过渡到新的导入方式，将 <code dir="auto">?url</code> 和 <code dir="auto">.src</code> 方法结合起来可能是一种无缝处理图像的正确方法。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="升级视图过渡动画到-v3">升级视图过渡动画到 v3</h3><a class="sl-anchor-link" href="#升级视图过渡动画到-v3"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “升级视图过渡动画到 v3”</span></a></div>
<p>在 Astro v3.0 中，视图过渡动画不再是实验性的。</p>
<p>如果你 <strong>没有</strong> 在 Astro 2.x 中启用此实验性标志，则不会对你的项目造成任何破坏性的更改。新的视图过渡动画 API 不会影响你现有的代码。</p>
<p>如果你之前使用了实验性的视图过渡动画，那么从早期版本升级你的 Astro 项目时可能会有一些破坏性的更改。</p>
<p>请根据以下说明适当地升级 <strong>使用 <code dir="auto">experimental.viewTransitions: true</code> 配置的 Astro v2.x 项目</strong> 到 v3.0。</p>
<div class="sl-heading-wrapper level-h4"><h4 id="从-experimentalviewtransitions-升级">从 <code dir="auto">experimental.viewTransitions</code> 升级</h4><a class="sl-anchor-link" href="#从-experimentalviewtransitions-升级"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “从 experimental.viewTransitions 升级”</span></a></div>
<p>如果你之前启用了视图过渡动画的实验性标志，那么你需要更新你的项目到 Astro v3.0，因为现在 Astro 默认支持视图过渡动画。</p>
<div class="sl-heading-wrapper level-h5"><h5 id="移除-experimentalviewtransitions-标志">移除 <code dir="auto">experimental.viewTransitions</code> 标志</h5><a class="sl-anchor-link" href="#移除-experimentalviewtransitions-标志"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “移除 experimental.viewTransitions 标志”</span></a></div>
<p>移除实验性标志：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">astro.config.mjs</span></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { defineConfig } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">astro/config</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">defineConfig</span><span style="--0:#D6DEEB;--1:#403F53">({</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">experimental: {</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">   </span></span><span style="--0:#D6DEEB;--1:#403F53">viewTransitions: </span><span style="--0:#ff96a8;--1:#7a3636">true</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="import { defineConfig } from &#x27;astro/config&#x27;;export default defineConfig({  experimental: {   viewTransitions: true  }});"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h5"><h5 id="更新导入来源">更新导入来源</h5><a class="sl-anchor-link" href="#更新导入来源"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “更新导入来源”</span></a></div>
<p><code dir="auto">&#x3C;ViewTransitions /></code> 组件被从 <code dir="auto">astro:components</code> 移动到了 <code dir="auto">astro:transitions</code>。请在你的项目中更新导入来源。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/layouts/BaseLayout.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { ViewTransitions } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><del><span style="--0:#ECC48D;--1:#723b3a">astro:components</span></del><span style="--0:#ECC48D;--1:#984E4D"> </span><ins><span style="--0:#ECC48D;--1:#723b3a">astro:transitions</span></ins><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">---</span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3B61B0">lang</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">en</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8844AE">></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">title</span><span style="--0:#7FDBCA">></span></span><span style="--0:#D6DEEB;--1:#403F53">My Homepage</span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">title</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#8844AE">&#x3C;</span><span style="--0:#C5E478;--1:#3B61B0">ViewTransitions</span><span style="--0:#7FDBCA;--1:#8844AE"> /></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">h1</span><span style="--0:#7FDBCA">></span></span><span style="--0:#D6DEEB;--1:#403F53">Welcome to my website!</span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">h1</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA">></span></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="---import { ViewTransitions } from &#x22;astro:components astro:transitions&#x22;---<html lang=&#x22;en&#x22;>  <head>    <title>My Homepage</title>    <ViewTransitions />  </head>  <body>    <h1>Welcome to my website!</h1>  </body></html>"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h5"><h5 id="更新-transitionanimate-指令">更新 <code dir="auto">transition:animate</code> 指令</h5><a class="sl-anchor-link" href="#更新-transitionanimate-指令"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “更新 transition:animate 指令”</span></a></div>
<p><strong>改变：</strong> <code dir="auto">transition:animate</code> 的值 <code dir="auto">morph</code> 已重命名为 <code dir="auto">initial</code>。此外，这不再是默认的动画。如果没有指定 <code dir="auto">transition:animate</code> 指令，则你的动画现在默认为 <code dir="auto">fade</code>。</p>
<ol>
<li>
<p>重命名任何 <code dir="auto">morph</code> 动画为 <code dir="auto">initial</code>。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3B61B0">transition:name</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">name</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8844AE"> </span><span style="--0:#C5E478;--1:#3B61B0">transition:animate</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><del><span style="--0:#ECC48D;--1:#723b3a">morph</span></del><span style="--0:#ECC48D;--1:#984E4D"> </span><ins><span style="--0:#ECC48D;--1:#723b3a">initial</span></ins><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8844AE"> /></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="<div transition:name=&#x22;name&#x22; transition:animate=&#x22;morph initial&#x22; />"><div></div></button></div></figure></div>
</li>
<li>
<p>为了保持任何以前默认使用 <code dir="auto">morph</code> 的动画，显式添加 <code dir="auto">transition:animate="initial"</code>。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3B61B0">transition:name</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">name</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8844AE"> </span><ins><span style="--0:#C5E478;--1:#2d4a87">transition:animate</span><span style="--0:#7FDBCA;--1:#6a3588">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">initial</span><span style="--0:#D9F5DD;--1:#111111">"</span></ins><span style="--0:#7FDBCA;--1:#8844AE"> /></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="<div transition:name=&#x22;name&#x22; transition:animate=&#x22;initial&#x22; />"><div></div></button></div></figure></div>
</li>
<li>
<p>你可以安全地删除任何显式设置为 <code dir="auto">fade</code> 的动画。这是现在的默认行为：</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA"> </span></span><span style="--0:#C5E478;--1:#3B61B0">transition:name</span><span style="--0:#7FDBCA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">name</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#7FDBCA;--1:#8844AE"> </span><del><span style="--0:#C5E478;--1:#2c4984">transition:animate</span><span style="--0:#7FDBCA;--1:#663383">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">fade</span><span style="--0:#D9F5DD;--1:#111111">"</span></del><span style="--0:#7FDBCA;--1:#8844AE"> /></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="<div transition:name=&#x22;name&#x22; transition:animate=&#x22;fade&#x22; />"><div></div></button></div></figure></div>
</li>
</ol>
<p><strong>添加：</strong> Astro 还支持一个新的 <code dir="auto">transition:animate</code> 值，<code dir="auto">none</code>。这个值可以在页面的 <code dir="auto">&#x3C;html></code> 元素上使用，以禁用整个页面上的动画过渡。这只会覆盖页面元素上<strong>默认的动画行为</strong>，而不是动画指令。你仍然可以在单个元素上设置动画，这些特定的动画将会发生。</p>
<ol start="4">
<li>
<p>你现在可以在单个页面上禁用所有默认的过渡动画，只对显式使用 <code dir="auto">transition:animate</code> 指令的元素进行动画：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA"> </span></span><ins><span style="--0:#C5E478;--1:#2d4a87">transition:animate</span><span style="--0:#7FDBCA;--1:#6a3588">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#723b3a">none</span><span style="--0:#D9F5DD;--1:#111111">"</span></ins><span style="--0:#7FDBCA;--1:#8844AE">></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">>&#x3C;/</span><span style="--0:#CAECE6">head</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">h1</span><span style="--0:#7FDBCA">></span></span><span style="--0:#D6DEEB;--1:#403F53">Hello world!</span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">h1</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">body</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">html</span><span style="--0:#7FDBCA">></span></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="<html transition:animate=&#x22;none&#x22;>  <head></head>  <body>    <h1>Hello world!</h1>  </body></html>"><div></div></button></div></figure></div>
</li>
</ol>
<div class="sl-heading-wrapper level-h5"><h5 id="更新事件名称">更新事件名称</h5><a class="sl-anchor-link" href="#更新事件名称"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “更新事件名称”</span></a></div>
<p>事件 <code dir="auto">astro:load</code> 已重命名为 <code dir="auto">astro:page-load</code>。在你的项目中重命名所有 <code dir="auto">astro:load</code> 出现的地方。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#096E72">document</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">addEventListener</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><del><span style="--0:#ECC48D;--1:#723b3a">astro:load</span></del><span style="--0:#ECC48D;--1:#984E4D"> </span><ins><span style="--0:#ECC48D;--1:#723b3a">astro:page-load</span></ins><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--1:#403F53"><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">runSetupLogic</span><span style="--0:#D6DEEB">);</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">></span></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="<script>document.addEventListener(&#x27;astro:load astro:page-load&#x27;, runSetupLogic);</script>"><div></div></button></div></figure></div>
<p>事件 <code dir="auto">astro:beforeload</code> 已重命名为 <code dir="auto">astro:after-swap</code>。在你的项目中重命名所有 <code dir="auto">astro:beforeload</code> 出现的地方。</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">src/components/MyComponent.astro</span></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">></span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#096E72">document</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">addEventListener</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><del><span style="--0:#ECC48D;--1:#723b3a">astro:beforeload</span></del><span style="--0:#ECC48D;--1:#984E4D"> </span><ins><span style="--0:#ECC48D;--1:#723b3a">astro:after-swap</span></ins><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--1:#403F53"><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">setDarkMode</span><span style="--0:#D6DEEB">);</span></span></div></div><div class="ec-line"><div class="code"><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">script</span><span style="--0:#7FDBCA">></span></span></div></div></code></pre><div class="copy"><button title="复制到剪贴板" data-copied="复制成功！" data-code="<script>document.addEventListener(&#x27;astro:beforeload astro:after-swap&#x27;, setDarkMode);</script>"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h2"><h2 id="社区资源">社区资源</h2><a class="sl-anchor-link" href="#社区资源"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “社区资源”</span></a></div>
<p>知道一个好的 Astro v3.0 资源？<a href="https://github.com/withastro/docs/edit/main/src/content/docs/zh-cn/guides/upgrade-to/v3.mdx">编辑此页面</a> 并在下面添加链接！</p>
<div class="sl-heading-wrapper level-h2"><h2 id="已知问题">已知问题</h2><a class="sl-anchor-link" href="#已知问题"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “已知问题”</span></a></div>
<p>目前没有已知的问题。</p>
									

	
	
	
	
	
	
	<span id="docsearch-lvl0" hidden>Upgrade Guides</span>
</div>
									<div class="hide-when-toc-is-visible astro-o5o7wsh2">
	<div class="container astro-zwxhm4ix" lang="en" dir="ltr" data-algolia-exclude>
	<aside aria-labelledby="learn-astro-course-1" class="astro-zwxhm4ix">
		<div class="graphics astro-zwxhm4ix">
			
<img src="/_astro/Scrimba.ByZ1pAIN_1PqoUV.webp" alt="Scrimba" loading="lazy" decoding="async" fetchpriority="auto" width="72" height="72" class="scrimba-bubble astro-zwxhm4ix">
			
<img src="/_astro/JamesQuick.BYVczE5K_Z27c5s6.webp" alt loading="lazy" decoding="async" fetchpriority="auto" width="72" height="72" class="astro-zwxhm4ix">
		</div>
		<h2 id="learn-astro-course-1" class="astro-zwxhm4ix">
			<strong class="astro-zwxhm4ix">Learn Astro</strong> with James Q Quick
		</h2>
		<p class="astro-zwxhm4ix">Build your first site with 35 interactive Scrimba lessons</p>
		<a class="sl-link-button not-content primary cta astro-zwxhm4ix astro-n3qr5j5k" href="https://scrimba.com/intro-to-astro-c00ar0fi5u?via=astro" data-scrimba-cta="true">
	
	Get 20% off
	
</a>
	</aside>
</div>

<script type="module">document.querySelectorAll("a[data-scrimba-cta]").forEach(c=>c.addEventListener("click",()=>{window.fathom?.trackEvent("Docs: Scrimba campaign click")}));</script>
</div>
<footer class="sl-flex astro-rpzzxrff">
	<div class="meta sl-flex astro-rpzzxrff">
		<div class="sl-flex astro-dvlentyv">
			<a href="https://github.com/withastro/docs/edit/main/src/content/docs/zh-cn/guides/upgrade-to/v3.mdx" class="sl-flex astro-dvlentyv">
				
	<svg aria-hidden="true" class="astro-dvlentyv astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"/></svg>



				编辑此页
			</a>
			<a href="https://contribute.docs.astro.build/guides/i18n/" class="sl-flex astro-dvlentyv">
				
	<svg aria-hidden="true" class="astro-dvlentyv astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path fill-rule="evenodd" d="M8.516 3a.94.94 0 0 0-.941.94v1.15H2.94a.94.94 0 1 0 0 1.882h7.362a7.422 7.422 0 0 1-1.787 3.958 7.42 7.42 0 0 1-1.422-2.425.94.94 0 1 0-1.774.627 9.303 9.303 0 0 0 1.785 3.043 7.422 7.422 0 0 1-4.164 1.278.94.94 0 1 0 0 1.881 9.303 9.303 0 0 0 5.575-1.855 9.303 9.303 0 0 0 4.11 1.74l-.763 1.525a.968.968 0 0 0-.016.034l-1.385 2.77a.94.94 0 1 0 1.683.841l1.133-2.267h5.806l1.134 2.267a.94.94 0 0 0 1.683-.841l-1.385-2.769a.95.95 0 0 0-.018-.036l-3.476-6.951a.94.94 0 0 0-1.682 0l-1.82 3.639a7.423 7.423 0 0 1-3.593-1.256 9.303 9.303 0 0 0 2.27-5.203h1.894a.94.94 0 0 0 0-1.881H9.456V3.94A.94.94 0 0 0 8.516 3Zm6.426 11.794a1.068 1.068 0 0 1-.02.039l-.703 1.407h3.924l-1.962-3.924-1.24 2.478Z" clip-rule="evenodd"/></svg>


 翻译本页内容
			</a>
		</div>


		
	</div>
	<div class="pagination-links print:hidden astro-t76ryodp" dir="ltr">
	<a href="/zh-cn/guides/upgrade-to/v4/" rel="prev" class="astro-t76ryodp">
				
	<svg aria-hidden="true" class="astro-t76ryodp astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>



				<span class="astro-t76ryodp">
					上一页
					<br class="astro-t76ryodp">
					<span class="link-title astro-t76ryodp">v4.0</span>
				</span>
			</a>
	<a href="/zh-cn/guides/upgrade-to/v2/" rel="next" class="astro-t76ryodp">
				
	<svg aria-hidden="true" class="astro-t76ryodp astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>



				<span class="astro-t76ryodp">
					下一页
					<br class="astro-t76ryodp">
					<span class="link-title astro-t76ryodp">v2.0</span>
				</span>
			</a>
</div>

	
</footer>
<section class="sl-flex astro-m2zh2vwj">
	<a href="/zh-cn/contribute/" class="sl-flex astro-m2zh2vwj">
		
	<svg aria-hidden="true" class="astro-m2zh2vwj astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg>



		贡献
	</a>

	<a href="https://astro.build/chat" class="sl-flex astro-m2zh2vwj">
		<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="width:1.2em;height:1.2em;" class="astro-m2zh2vwj">
			<path d="M12.3 12.22A4.92 4.92 0 0 0 14 8.5a5 5 0 0 0-10 0a4.92 4.92 0 0 0 1.7 3.72A8 8 0 0 0 1 19.5a1 1 0 0 0 2 0a6 6 0 0 1 12 0a1 1 0 0 0 2 0a8 8 0 0 0-4.7-7.28M9 11.5a3 3 0 1 1 3-3a3 3 0 0 1-3 3m9.74.32A5 5 0 0 0 15 3.5a1 1 0 0 0 0 2a3 3 0 0 1 3 3a3 3 0 0 1-1.5 2.59a1 1 0 0 0-.5.84a1 1 0 0 0 .45.86l.39.26l.13.07a7 7 0 0 1 4 6.38a1 1 0 0 0 2 0a9 9 0 0 0-4.23-7.68" class="astro-m2zh2vwj"></path>
		</svg>
		社区
	</a>

	<a href="https://opencollective.com/astrodotbuild" class="sl-flex astro-m2zh2vwj">
		
	<svg aria-hidden="true" class="astro-m2zh2vwj astro-eytsx3ik" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M20.16 5A6.29 6.29 0 0 0 12 4.36a6.27 6.27 0 0 0-8.16 9.48l6.21 6.22a2.78 2.78 0 0 0 3.9 0l6.21-6.22a6.27 6.27 0 0 0 0-8.84m-1.41 7.46-6.21 6.21a.76.76 0 0 1-1.08 0l-6.21-6.24a4.29 4.29 0 0 1 0-6 4.27 4.27 0 0 1 6 0 1 1 0 0 0 1.42 0 4.27 4.27 0 0 1 6 0 4.29 4.29 0 0 1 .08 6Z"/></svg>



		赞助
	</a>
</section>
								</div>
</div>
							
				</main>
			</div>
</div>
		</div>
</div>
	</body></html>